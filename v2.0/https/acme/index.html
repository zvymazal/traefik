



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Traefik Documentation">
      
      
      
        <meta name="author" content="containo.us">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/img/traefik.icon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Let's Encrypt - Traefik</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#00bcd4">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/styles/extra.css">
    
      <link rel="stylesheet" href="../../assets/styles/atom-one-light.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-51880359-3", "docs.traefik.io")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="cyan" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#lets-encrypt" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Traefik" class="md-header-nav__button md-logo">
          
            <img src="../../assets/img/traefik.logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Traefik
            </span>
            <span class="md-header-nav__topic">
              
                Let's Encrypt
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/containous/traefik/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Traefik" class="md-nav__button md-logo">
      
        <img src="../../assets/img/traefik.logo.png" width="48" height="48">
      
    </a>
    Traefik
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/containous/traefik/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/concepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/quick-start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/configuration-overview/" title="Configuration Introduction" class="md-nav__link">
      Configuration Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/install-traefik/" title="Install Traefik" class="md-nav__link">
      Install Traefik
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Configuration Discovery
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Configuration Discovery
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/kubernetes-crd/" title="Kubernetes IngressRoute" class="md-nav__link">
      Kubernetes IngressRoute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/kubernetes-ingress/" title="Kubernetes Ingress" class="md-nav__link">
      Kubernetes Ingress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/rancher/" title="Rancher" class="md-nav__link">
      Rancher
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/file/" title="File" class="md-nav__link">
      File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/marathon/" title="Marathon" class="md-nav__link">
      Marathon
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Routing & Load Balancing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Routing & Load Balancing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/entrypoints/" title="EntryPoints" class="md-nav__link">
      EntryPoints
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/routers/" title="Routers" class="md-nav__link">
      Routers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/services/" title="Services" class="md-nav__link">
      Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Providers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Providers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/providers/docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/providers/kubernetes-crd/" title="Kubernetes IngressRoute" class="md-nav__link">
      Kubernetes IngressRoute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/providers/rancher/" title="Rancher" class="md-nav__link">
      Rancher
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/providers/marathon/" title="Marathon" class="md-nav__link">
      Marathon
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      HTTPS & TLS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        HTTPS & TLS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tls/" title="TLS" class="md-nav__link">
      TLS
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Let's Encrypt
      </label>
    
    <a href="./" title="Let's Encrypt" class="md-nav__link md-nav__link--active">
      Let's Encrypt
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#certificate-resolvers" class="md-nav__link">
    Certificate Resolvers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#domain-definition" class="md-nav__link">
    Domain Definition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-examples" class="md-nav__link">
    Configuration Examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-renewals" class="md-nav__link">
    Automatic Renewals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-letsencrypt-with-kubernetes" class="md-nav__link">
    Using LetsEncrypt with Kubernetes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-different-acme-challenges" class="md-nav__link">
    The Different ACME Challenges
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tlschallenge" class="md-nav__link">
    tlsChallenge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#httpchallenge" class="md-nav__link">
    httpChallenge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dnschallenge" class="md-nav__link">
    dnsChallenge
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#providers" class="md-nav__link">
    providers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resolvers" class="md-nav__link">
    resolvers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wildcard-domains" class="md-nav__link">
    Wildcard Domains
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-configuration" class="md-nav__link">
    More Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#caserver" class="md-nav__link">
    caServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    storage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-a-file" class="md-nav__link">
    In a File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fallback" class="md-nav__link">
    Fallback
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Middlewares
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Middlewares
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/addprefix/" title="AddPrefix" class="md-nav__link">
      AddPrefix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/basicauth/" title="BasicAuth" class="md-nav__link">
      BasicAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/buffering/" title="Buffering" class="md-nav__link">
      Buffering
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/chain/" title="Chain" class="md-nav__link">
      Chain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/circuitbreaker/" title="CircuitBreaker" class="md-nav__link">
      CircuitBreaker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/compress/" title="Compress" class="md-nav__link">
      Compress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/digestauth/" title="DigestAuth" class="md-nav__link">
      DigestAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/errorpages/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/forwardauth/" title="ForwardAuth" class="md-nav__link">
      ForwardAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/headers/" title="Headers" class="md-nav__link">
      Headers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/ipwhitelist/" title="IpWhitelist" class="md-nav__link">
      IpWhitelist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/inflightreq/" title="InFlightReq" class="md-nav__link">
      InFlightReq
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/passtlsclientcert/" title="PassTLSClientCert" class="md-nav__link">
      PassTLSClientCert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/ratelimit/" title="RateLimit" class="md-nav__link">
      RateLimit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/redirectregex/" title="RedirectRegex" class="md-nav__link">
      RedirectRegex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/redirectscheme/" title="RedirectScheme" class="md-nav__link">
      RedirectScheme
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/replacepath/" title="ReplacePath" class="md-nav__link">
      ReplacePath
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/replacepathregex/" title="ReplacePathRegex" class="md-nav__link">
      ReplacePathRegex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/retry/" title="Retry" class="md-nav__link">
      Retry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/stripprefix/" title="StripPrefix" class="md-nav__link">
      StripPrefix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/stripprefixregex/" title="StripPrefixRegex" class="md-nav__link">
      StripPrefixRegex
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Operations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Operations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/dashboard/" title="Dashboard" class="md-nav__link">
      Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/ping/" title="Ping" class="md-nav__link">
      Ping
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Observability
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Observability
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/logs/" title="Logs" class="md-nav__link">
      Logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/access-logs/" title="Access Logs" class="md-nav__link">
      Access Logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-3" type="checkbox" id="nav-8-3">
    
    <label class="md-nav__link" for="nav-8-3">
      Metrics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-3">
        Metrics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/metrics/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/metrics/datadog/" title="Datadog" class="md-nav__link">
      Datadog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/metrics/influxdb/" title="InfluxDB" class="md-nav__link">
      InfluxDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/metrics/prometheus/" title="Prometheus" class="md-nav__link">
      Prometheus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/metrics/statsd/" title="StatsD" class="md-nav__link">
      StatsD
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4" type="checkbox" id="nav-8-4">
    
    <label class="md-nav__link" for="nav-8-4">
      Tracing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-4">
        Tracing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/jaeger/" title="Jaeger" class="md-nav__link">
      Jaeger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/zipkin/" title="Zipkin" class="md-nav__link">
      Zipkin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/datadog/" title="Datadog" class="md-nav__link">
      Datadog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/instana/" title="Instana" class="md-nav__link">
      Instana
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/haystack/" title="Haystack" class="md-nav__link">
      Haystack
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      User Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        User Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/crd-acme/" title="Kubernetes and Let's Encrypt" class="md-nav__link">
      Kubernetes and Let's Encrypt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/grpc/" title="gRPC Examples" class="md-nav__link">
      gRPC Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/marathon/" title="Marathon" class="md-nav__link">
      Marathon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-4" type="checkbox" id="nav-9-4">
    
    <label class="md-nav__link" for="nav-9-4">
      Docker
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-4">
        Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/docker-compose/basic-example/" title="Basic Example" class="md-nav__link">
      Basic Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-4-2" type="checkbox" id="nav-9-4-2">
    
    <label class="md-nav__link" for="nav-9-4-2">
      HTTPS with Let's Encrypt
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-9-4-2">
        HTTPS with Let's Encrypt
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/docker-compose/acme-tls/" title="TLS Challenge" class="md-nav__link">
      TLS Challenge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/docker-compose/acme-http/" title="HTTP Challenge" class="md-nav__link">
      HTTP Challenge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/docker-compose/acme-dns/" title="DNS Challenge" class="md-nav__link">
      DNS Challenge
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Migration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Migration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../migration/v1-to-v2/" title="Traefik v1 to v2" class="md-nav__link">
      Traefik v1 to v2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Contributing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Contributing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/thank-you/" title="Thank You!" class="md-nav__link">
      Thank You!
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/submitting-issues/" title="Submitting Issues" class="md-nav__link">
      Submitting Issues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/submitting-pull-requests/" title="Submitting PRs" class="md-nav__link">
      Submitting PRs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/submitting-security-issues/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/building-testing/" title="Building and Testing" class="md-nav__link">
      Building and Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/documentation/" title="Documentation" class="md-nav__link">
      Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/data-collection/" title="Data Collection" class="md-nav__link">
      Data Collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/advocating/" title="Advocating" class="md-nav__link">
      Advocating
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/maintainers/" title="Maintainers" class="md-nav__link">
      Maintainers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      References
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        References
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-1" type="checkbox" id="nav-12-1">
    
    <label class="md-nav__link" for="nav-12-1">
      Static Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-1">
        Static Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/static-configuration/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/static-configuration/file/" title="File" class="md-nav__link">
      File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/static-configuration/cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/static-configuration/env/" title="Environment variables" class="md-nav__link">
      Environment variables
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-2" type="checkbox" id="nav-12-2">
    
    <label class="md-nav__link" for="nav-12-2">
      Dynamic Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-2">
        Dynamic Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/dynamic-configuration/file/" title="File" class="md-nav__link">
      File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/dynamic-configuration/docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/dynamic-configuration/kubernetes-crd/" title="Kubernetes CRD" class="md-nav__link">
      Kubernetes CRD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/dynamic-configuration/marathon/" title="Marathon" class="md-nav__link">
      Marathon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/dynamic-configuration/rancher/" title="Rancher" class="md-nav__link">
      Rancher
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#certificate-resolvers" class="md-nav__link">
    Certificate Resolvers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#domain-definition" class="md-nav__link">
    Domain Definition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-examples" class="md-nav__link">
    Configuration Examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-renewals" class="md-nav__link">
    Automatic Renewals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-letsencrypt-with-kubernetes" class="md-nav__link">
    Using LetsEncrypt with Kubernetes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-different-acme-challenges" class="md-nav__link">
    The Different ACME Challenges
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tlschallenge" class="md-nav__link">
    tlsChallenge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#httpchallenge" class="md-nav__link">
    httpChallenge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dnschallenge" class="md-nav__link">
    dnsChallenge
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#providers" class="md-nav__link">
    providers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resolvers" class="md-nav__link">
    resolvers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wildcard-domains" class="md-nav__link">
    Wildcard Domains
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-configuration" class="md-nav__link">
    More Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#caserver" class="md-nav__link">
    caServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    storage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-a-file" class="md-nav__link">
    In a File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fallback" class="md-nav__link">
    Fallback
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/containous/traefik/edit/v2.0/docs/content/https/acme.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="lets-encrypt">Let's Encrypt<a class="headerlink" href="#lets-encrypt" title="Permanent link">&para;</a></h1>
<p class="subtitle">Automatic HTTPS</p>
<p>You can configure Traefik to use an ACME provider (like Let's Encrypt) for automatic certificate generation.</p>
<div class="admonition warning">
<p class="admonition-title">Let's Encrypt and Rate Limiting</p>
<p>Note that Let's Encrypt API has <a href="https://letsencrypt.org/docs/rate-limits">rate limiting</a>.</p>
<p>Use Let's Encrypt staging server with the <a href="#caserver"><code>caServer</code></a> configuration option
when experimenting to avoid hitting this limit too fast.</p>
</div>
<h2 id="certificate-resolvers">Certificate Resolvers<a class="headerlink" href="#certificate-resolvers" title="Permanent link">&para;</a></h2>
<p>Traefik requires you to define "Certificate Resolvers" in the <a href="../../getting-started/configuration-overview/#the-static-configuration">static configuration</a>, 
which are responsible for retrieving certificates from an ACME server.</p>
<p>Then, each <a href="../../routing/routers/">"router"</a> is configured to enable TLS,
and is associated to a certificate resolver through the <a href="../../routing/routers/#certresolver"><code>tls.certresolver</code> configuration option</a>.</p>
<p>Certificates are requested for domain names retrieved from the router's <a href="../../getting-started/configuration-overview/#the-dynamic-configuration">dynamic configuration</a>.</p>
<p>You can read more about this retrieval mechanism in the following section: <a href="#domain-definition">ACME Domain Definition</a>.</p>
<h2 id="domain-definition">Domain Definition<a class="headerlink" href="#domain-definition" title="Permanent link">&para;</a></h2>
<p>Certificate resolvers request certificates for a set of the domain names 
inferred from routers, with the following logic:</p>
<ul>
<li>
<p>If the router has a <a href="../../routing/routers/#domains"><code>tls.domains</code></a> option set,
  then the certificate resolver uses the <code>main</code> (and optionally <code>sans</code>) option of <code>tls.domains</code> to know the domain names for this router.</p>
</li>
<li>
<p>If no <a href="../../routing/routers/#domains"><code>tls.domains</code></a> option is set, 
  then the certificate resolver uses the <a href="../../routing/routers/#rule">router's rule</a>, 
  by checking the <code>Host()</code> matchers. 
  Please note that <a href="../../routing/routers/#certresolver">multiple <code>Host()</code> matchers can be used</a>) for specifying multiple domain names for this router.</p>
</li>
</ul>
<p>Please note that:</p>
<ul>
<li>
<p>When multiple domain names are inferred from a given router,
  only <strong>one</strong> certificate is requested with the first domain name as the main domain,
  and the other domains as <a href="https://en.wikipedia.org/wiki/Subject_Alternative_Name">"SANs" (Subject Alternative Name)</a>.</p>
</li>
<li>
<p>As <a href="#wildcard-domains">ACME V2 supports "wildcard domains"</a>,
  any router can provide a <a href="https://en.wikipedia.org/wiki/Wildcard_certificate">wildcard domain</a> name, as "main" domain or as "SAN" domain.</p>
</li>
</ul>
<p>Please check the <a href="#configuration-examples">configuration examples below</a> for more details.</p>
<h2 id="configuration-examples">Configuration Examples<a class="headerlink" href="#configuration-examples" title="Permanent link">&para;</a></h2>
<details class="example"><summary>Enabling ACME</summary><div class="superfences-tabs">
<input name="__tabs_1" type="radio" id="__tab_1_0" checked="checked" />
<label for="__tab_1_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">[entryPoints]
  [entryPoints.web]
    address = ":80"

  [entryPoints.web-secure]
    address = ":443"

[certificatesResolvers.sample.acme]
  email = "your-email@your-domain.org"
  storage = "acme.json"
  [certificatesResolvers.sample.acme.httpChallenge]
    # used during the challenge
    entryPoint = "web"</code></pre></div>
<input name="__tabs_1" type="radio" id="__tab_1_1" />
<label for="__tab_1_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">entryPoints:
  web:
    address: ":80"

  web-secure:
    address: ":443"

certificatesResolvers:
  sample:
    acme:
      email: your-email@your-domain.org
      storage: acme.json
      httpChallenge:
        # used during the challenge
        entryPoint: web</code></pre></div>
<input name="__tabs_1" type="radio" id="__tab_1_2" />
<label for="__tab_1_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash">--entryPoints.web.address=:80
--entryPoints.websecure.address=:443
# ...
--certificatesResolvers.sample.acme.email=your-email@your-domain.org
--certificatesResolvers.sample.acme.storage=acme.json
# used during the challenge
--certificatesResolvers.sample.acme.httpChallenge.entryPoint=web</code></pre></div>
</div>
</details>
<div class="admonition important">
<p class="admonition-title">Defining a certificates resolver does not result in all routers automatically using it. Each router that is supposed to use the resolver must <a href="../../routing/routers/#certresolver">reference</a> it.</p>
</div>
<details class="note"><summary>Configuration Reference</summary><p>There are many available options for ACME.
For a quick glance at what's possible, browse the configuration reference:</p>
<div class="superfences-tabs">
<input name="__tabs_2" type="radio" id="__tab_2_0" checked="checked" />
<label for="__tab_2_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml"># Enable ACME (Let's Encrypt): automatic SSL.
[certificatesResolvers.sample.acme]

  # Email address used for registration.
  #
  # Required
  #
  email = "test@traefik.io"

  # File or key used for certificates storage.
  #
  # Required
  #
  storage = "acme.json"

  # CA server to use.
  # Uncomment the line to use Let's Encrypt's staging server,
  # leave commented to go to prod.
  #
  # Optional
  # Default: "https://acme-v02.api.letsencrypt.org/directory"
  #
  # caServer = "https://acme-staging-v02.api.letsencrypt.org/directory"

  # KeyType to use.
  #
  # Optional
  # Default: "RSA4096"
  #
  # Available values : "EC256", "EC384", "RSA2048", "RSA4096", "RSA8192"
  #
  # keyType = "RSA4096"

  # Use a TLS-ALPN-01 ACME challenge.
  #
  # Optional (but recommended)
  #
  [certificatesResolvers.sample.acme.tlsChallenge]

  # Use a HTTP-01 ACME challenge.
  #
  # Optional
  #
  # [certificatesResolvers.sample.acme.httpChallenge]

    # EntryPoint to use for the HTTP-01 challenges.
    #
    # Required
    #
    # entryPoint = "web"

  # Use a DNS-01 ACME challenge rather than HTTP-01 challenge.
  # Note: mandatory for wildcard certificate generation.
  #
  # Optional
  #
  # [certificatesResolvers.sample.acme.dnsChallenge]

    # DNS provider used.
    #
    # Required
    #
    # provider = "digitalocean"

    # By default, the provider will verify the TXT DNS challenge record before letting ACME verify.
    # If delayBeforeCheck is greater than zero, this check is delayed for the configured duration in seconds.
    # Useful if internal networks block external DNS queries.
    #
    # Optional
    # Default: 0
    #
    # delayBeforeCheck = 0

    # Use following DNS servers to resolve the FQDN authority.
    #
    # Optional
    # Default: empty
    #
    # resolvers = ["1.1.1.1:53", "8.8.8.8:53"]

    # Disable the DNS propagation checks before notifying ACME that the DNS challenge is ready.
    #
    # NOT RECOMMENDED:
    # Increase the risk of reaching Let's Encrypt's rate limits.
    #
    # Optional
    # Default: false
    #
    # disablePropagationCheck = true</code></pre></div>
<input name="__tabs_2" type="radio" id="__tab_2_1" />
<label for="__tab_2_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">certificatesResolvers:
  sample:
    # Enable ACME (Let's Encrypt): automatic SSL.
    acme:

      # Email address used for registration.
      #
      # Required
      #
      email: "test@traefik.io"

      # File or key used for certificates storage.
      #
      # Required
      #
      storage: "acme.json"

      # CA server to use.
      # Uncomment the line to use Let's Encrypt's staging server,
      # leave commented to go to prod.
      #
      # Optional
      # Default: "https://acme-v02.api.letsencrypt.org/directory"
      #
      # caServer: "https://acme-staging-v02.api.letsencrypt.org/directory"

      # KeyType to use.
      #
      # Optional
      # Default: "RSA4096"
      #
      # Available values : "EC256", "EC384", "RSA2048", "RSA4096", "RSA8192"
      #
      # keyType: RSA4096

      # Use a TLS-ALPN-01 ACME challenge.
      #
      # Optional (but recommended)
      #
      tlsChallenge:

      # Use a HTTP-01 ACME challenge.
      #
      # Optional
      #
      # httpChallenge:

        # EntryPoint to use for the HTTP-01 challenges.
        #
        # Required
        #
        # entryPoint: web

      # Use a DNS-01 ACME challenge rather than HTTP-01 challenge.
      # Note: mandatory for wildcard certificate generation.
      #
      # Optional
      #
      # dnsChallenge:

        # DNS provider used.
        #
        # Required
        #
        # provider: digitalocean

        # By default, the provider will verify the TXT DNS challenge record before letting ACME verify.
        # If delayBeforeCheck is greater than zero, this check is delayed for the configured duration in seconds.
        # Useful if internal networks block external DNS queries.
        #
        # Optional
        # Default: 0
        #
        # delayBeforeCheck: 0

        # Use following DNS servers to resolve the FQDN authority.
        #
        # Optional
        # Default: empty
        #
        # resolvers
        # - "1.1.1.1:53"
        # - "8.8.8.8:53"

        # Disable the DNS propagation checks before notifying ACME that the DNS challenge is ready.
        #
        # NOT RECOMMENDED:
        # Increase the risk of reaching Let's Encrypt's rate limits.
        #
        # Optional
        # Default: false
        #
        # disablePropagationCheck: true</code></pre></div>
<input name="__tabs_2" type="radio" id="__tab_2_2" />
<label for="__tab_2_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash"># Enable ACME (Let's Encrypt): automatic SSL.

# Email address used for registration.
#
# Required
#
--certificatesResolvers.sample.acme.email=test@traefik.io

# File or key used for certificates storage.
#
# Required
#
--certificatesResolvers.sample.acme.storage=acme.json

# CA server to use.
# Uncomment the line to use Let's Encrypt's staging server,
# leave commented to go to prod.
#
# Optional
# Default: "https://acme-v02.api.letsencrypt.org/directory"
#
--certificatesResolvers.sample.acme.caServer=https://acme-staging-v02.api.letsencrypt.org/directory

# KeyType to use.
#
# Optional
# Default: "RSA4096"
#
# Available values : "EC256", "EC384", "RSA2048", "RSA4096", "RSA8192"
#
--certificatesResolvers.sample.acme.keyType=RSA4096

# Use a TLS-ALPN-01 ACME challenge.
#
# Optional (but recommended)
#
--certificatesResolvers.sample.acme.tlsChallenge=true

# Use a HTTP-01 ACME challenge.
#
# Optional
#
--certificatesResolvers.sample.acme.httpChallenge=true

# EntryPoint to use for the HTTP-01 challenges.
#
# Required
#
--certificatesResolvers.sample.acme.httpChallenge.entryPoint=web

# Use a DNS-01 ACME challenge rather than HTTP-01 challenge.
# Note: mandatory for wildcard certificate generation.
#
# Optional
#
--certificatesResolvers.sample.acme.dnsChallenge=true

# DNS provider used.
#
# Required
#
--certificatesResolvers.sample.acme.dnsChallenge.provider=digitalocean

# By default, the provider will verify the TXT DNS challenge record before letting ACME verify.
# If delayBeforeCheck is greater than zero, this check is delayed for the configured duration in seconds.
# Useful if internal networks block external DNS queries.
#
# Optional
# Default: 0
#
--certificatesResolvers.sample.acme.dnsChallenge.delayBeforeCheck=0

# Use following DNS servers to resolve the FQDN authority.
#
# Optional
# Default: empty
#
--certificatesResolvers.sample.acme.dnsChallenge.resolvers=1.1.1.1:53,8.8.8.8:53

# Disable the DNS propagation checks before notifying ACME that the DNS challenge is ready.
#
# NOT RECOMMENDED:
# Increase the risk of reaching Let's Encrypt's rate limits.
#
# Optional
# Default: false
#
--certificatesResolvers.sample.acme.dnsChallenge.disablePropagationCheck=true</code></pre></div>
</div>
</details>
<details class="example"><summary>Single Domain from Router's Rule Example</summary><ul>
<li>A certificate for the domain <code>company.com</code> is requested:</li>
</ul>
<div class="superfences-tabs">
<input name="__tabs_3" type="radio" id="__tab_3_0" checked="checked" />
<label for="__tab_3_0">Docker</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
labels:
  - traefik.http.routers.blog.rule=Host(`company.com`) &amp;&amp; Path(`/blog`)
  - traefik.http.routers.blog.tls=true
  - traefik.http.routers.blog.tls.certresolver=le</code></pre></div>
<input name="__tabs_3" type="radio" id="__tab_3_1" />
<label for="__tab_3_1">Docker (Swarm)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
deploy:
  labels:
    - traefik.http.routers.blog.rule=Host(`company.com`) &amp;&amp; Path(`/blog`)
    - traefik.http.services.blog-svc.loadbalancer.server.port=8080"
    - traefik.http.routers.blog.tls=true
    - traefik.http.routers.blog.tls.certresolver=le</code></pre></div>
<input name="__tabs_3" type="radio" id="__tab_3_2" />
<label for="__tab_3_2">Kubernetes</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">---
apiVersion: traefik.containo.us/v1alpha1
kind: IngressRoute
metadata:
  name: blogtls
spec:
  entryPoints:
    - websecure
  routes:
  - match: Host(`company.com`) &amp;&amp; Path(`/blog`)
    kind: Rule
    services:
    - name: blog
      port: 8080
  tls: {}</code></pre></div>
<input name="__tabs_3" type="radio" id="__tab_3_3" />
<label for="__tab_3_3">Marathon</label>
<div class="superfences-content"><pre class="highlight"><code class="language-json">labels: {
  "traefik.http.routers.blog.rule": "Host(`company.com`) &amp;&amp; Path(`/blog`)",
  "traefik.http.routers.blog.tls": "true",
  "traefik.http.routers.blog.tls.certresolver": "le",
  "traefik.http.services.blog-svc.loadbalancer.server.port": "8080"
}</code></pre></div>
<input name="__tabs_3" type="radio" id="__tab_3_4" />
<label for="__tab_3_4">Rancher</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
labels:
  - traefik.http.routers.blog.rule=Host(`company.com`) &amp;&amp; Path(`/blog`)
  - traefik.http.routers.blog.tls=true
  - traefik.http.routers.blog.tls.certresolver=le</code></pre></div>
<input name="__tabs_3" type="radio" id="__tab_3_5" />
<label for="__tab_3_5">Single Domain</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
    [http.routers.blog]
    rule = "Host(`company.com`) &amp;&amp; Path(`/blog`)"
    [http.routers.blog.tls]
        certResolver = "le" # From static configuration</code></pre></div>
<input name="__tabs_3" type="radio" id="__tab_3_6" />
<label for="__tab_3_6">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    blog:
      rule: "Host(`company.com`) &amp;&amp; Path(`/blog`)"
      tls:
        certResolver: le</code></pre></div>
</div>
</details>
<details class="example"><summary>Multiple Domains from Router's Rule Example</summary><ul>
<li>A certificate for the domains <code>company.com</code> (main) and <code>blog.company.org</code>
  is requested:</li>
</ul>
<div class="superfences-tabs">
<input name="__tabs_4" type="radio" id="__tab_4_0" checked="checked" />
<label for="__tab_4_0">Docker</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
labels:
  - traefik.http.routers.blog.rule=(Host(`company.com`) &amp;&amp; Path(`/blog`)) || Host(`blog.company.org`)
  - traefik.http.routers.blog.tls=true
  - traefik.http.routers.blog.tls.certresolver=le</code></pre></div>
<input name="__tabs_4" type="radio" id="__tab_4_1" />
<label for="__tab_4_1">Docker (Swarm)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
deploy:
  labels:
    - traefik.http.routers.blog.rule=(Host(`company.com`) &amp;&amp; Path(`/blog`)) || Host(`blog.company.org`)
    - traefik.http.services.blog-svc.loadbalancer.server.port=8080"
    - traefik.http.routers.blog.tls=true
    - traefik.http.routers.blog.tls.certresolver=le</code></pre></div>
<input name="__tabs_4" type="radio" id="__tab_4_2" />
<label for="__tab_4_2">Kubernetes</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">---
apiVersion: traefik.containo.us/v1alpha1
kind: IngressRoute
metadata:
  name: blogtls
spec:
  entryPoints:
    - websecure
  routes:
  - match: (Host(`company.com`) &amp;&amp; Path(`/blog`)) || Host(`blog.company.org`)
    kind: Rule
    services:
    - name: blog
      port: 8080
  tls: {}</code></pre></div>
<input name="__tabs_4" type="radio" id="__tab_4_3" />
<label for="__tab_4_3">Marathon</label>
<div class="superfences-content"><pre class="highlight"><code class="language-json">labels: {
  "traefik.http.routers.blog.rule": "(Host(`company.com`) &amp;&amp; Path(`/blog`)) || Host(`blog.company.org`)",
  "traefik.http.routers.blog.tls": "true",
  "traefik.http.routers.blog.tls.certresolver": "le",
  "traefik.http.services.blog-svc.loadbalancer.server.port": "8080"
}</code></pre></div>
<input name="__tabs_4" type="radio" id="__tab_4_4" />
<label for="__tab_4_4">Rancher</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
labels:
  - traefik.http.routers.blog.rule=(Host(`company.com`) &amp;&amp; Path(`/blog`)) || Host(`blog.company.org`)
  - traefik.http.routers.blog.tls=true
  - traefik.http.routers.blog.tls.certresolver=le</code></pre></div>
<input name="__tabs_4" type="radio" id="__tab_4_5" />
<label for="__tab_4_5">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.blog]
    rule = "(Host(`company.com`) &amp;&amp; Path(`/blog`)) || Host(`blog.company.org`)"
    [http.routers.blog.tls]
      certResolver = "le" # From static configuration</code></pre></div>
<input name="__tabs_4" type="radio" id="__tab_4_6" />
<label for="__tab_4_6">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    blog:
      rule: "(Host(`company.com`) &amp;&amp; Path(`/blog`)) || Host(`blog.company.org`)"
      tls:
        certResolver: le</code></pre></div>
</div>
</details>
<details class="example"><summary>Multiple Domains from Router's <code>tls.domain</code> Example</summary><ul>
<li>A certificate for the domains <code>company.com</code> (main) and <code>*.company.org</code> (SAN)
  is requested:</li>
</ul>
<div class="superfences-tabs">
<input name="__tabs_5" type="radio" id="__tab_5_0" checked="checked" />
<label for="__tab_5_0">Docker</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
labels:
  - traefik.http.routers.blog.rule=Host(`company.com`) &amp;&amp; Path(`/blog`)
  - traefik.http.routers.blog.tls=true
  - traefik.http.routers.blog.tls.certresolver=le
  - traefik.http.routers.blog.tls.domains[0].main=company.org
  - traefik.http.routers.blog.tls.domains[0].sans=*.company.org</code></pre></div>
<input name="__tabs_5" type="radio" id="__tab_5_1" />
<label for="__tab_5_1">Docker (Swarm)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
deploy:
  labels:
    - traefik.http.routers.blog.rule=Host(`company.com`) &amp;&amp; Path(`/blog`)
    - traefik.http.services.blog-svc.loadbalancer.server.port=8080"
    - traefik.http.routers.blog.tls=true
    - traefik.http.routers.blog.tls.certresolver=le
    - traefik.http.routers.blog.tls.domains[0].main=company.org
    - traefik.http.routers.blog.tls.domains[0].sans=*.company.org</code></pre></div>
<input name="__tabs_5" type="radio" id="__tab_5_2" />
<label for="__tab_5_2">Kubernetes</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">---
apiVersion: traefik.containo.us/v1alpha1
kind: IngressRoute
metadata:
  name: blogtls
spec:
  entryPoints:
    - websecure
  routes:
  - match: Host(`company.com`) &amp;&amp; Path(`/blog`)
    kind: Rule
    services:
    - name: blog
      port: 8080
  tls:
    certResolver: le</code></pre></div>
<input name="__tabs_5" type="radio" id="__tab_5_3" />
<label for="__tab_5_3">Marathon</label>
<div class="superfences-content"><pre class="highlight"><code class="language-json">labels: {
  "traefik.http.routers.blog.rule": "Host(`company.com`) &amp;&amp; Path(`/blog`)",
  "traefik.http.routers.blog.tls": "true",
  "traefik.http.routers.blog.tls.certresolver": "le",
  "traefik.http.routers.blog.tls.domains[0].main": "company.com",
  "traefik.http.routers.blog.tls.domains[0].sans": "*.company.com",
  "traefik.http.services.blog-svc.loadbalancer.server.port": "8080"
}</code></pre></div>
<input name="__tabs_5" type="radio" id="__tab_5_4" />
<label for="__tab_5_4">Rancher</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
labels:
  - traefik.http.routers.blog.rule=Host(`company.com`) &amp;&amp; Path(`/blog`)
  - traefik.http.routers.blog.tls=true
  - traefik.http.routers.blog.tls.certresolver=le
  - traefik.http.routers.blog.tls.domains[0].main=company.org
  - traefik.http.routers.blog.tls.domains[0].sans=*.company.org</code></pre></div>
<input name="__tabs_5" type="radio" id="__tab_5_5" />
<label for="__tab_5_5">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.blog]
    rule = "Host(`company.com`) &amp;&amp; Path(`/blog`)"
    [http.routers.blog.tls]
      certResolver = "le" # From static configuration
      [[http.routers.blog.tls.domains]]
        main = "company.org"
        sans = ["*.company.org"]</code></pre></div>
<input name="__tabs_5" type="radio" id="__tab_5_6" />
<label for="__tab_5_6">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    blog:
      rule: "Host(`company.com`) &amp;&amp; Path(`/blog`)"
      tls:
        certResolver: le
        domains:
          - main: "company.org"
            sans:
              - "*.company.org"</code></pre></div>
</div>
</details>
<h2 id="automatic-renewals">Automatic Renewals<a class="headerlink" href="#automatic-renewals" title="Permanent link">&para;</a></h2>
<p>Traefik automatically tracks the expiry date of ACME certificates it generates.</p>
<p>If there are less than 30 days remaining before the certificate expires, Traefik will attempt to renew it automatically.</p>
<div class="admonition info">
<p>Certificates that are no longer used may still be renewed, as Traefik does not currently check if the certificate is being used before renewing.</p>
</div>
<h2 id="using-letsencrypt-with-kubernetes">Using LetsEncrypt with Kubernetes<a class="headerlink" href="#using-letsencrypt-with-kubernetes" title="Permanent link">&para;</a></h2>
<p>When using LetsEncrypt with kubernetes, there are some known caveats with both the <a href="../../providers/kubernetes-ingress/">ingress</a> and <a href="../../providers/kubernetes-crd/">crd</a> providers.</p>
<div class="admonition info">
<p>If you intend to run multiple instances of Traefik with LetsEncrypt, please ensure you read the sections on those provider pages.</p>
</div>
<h2 id="the-different-acme-challenges">The Different ACME Challenges<a class="headerlink" href="#the-different-acme-challenges" title="Permanent link">&para;</a></h2>
<div class="admonition important">
<p class="admonition-title">Defining a certificates resolver does not result in all routers automatically using it. Each router that is supposed to use the resolver must <a href="../../routing/routers/#certresolver">reference</a> it.</p>
</div>
<h3 id="tlschallenge"><code>tlsChallenge</code><a class="headerlink" href="#tlschallenge" title="Permanent link">&para;</a></h3>
<p>Use the <code>TLS-ALPN-01</code> challenge to generate and renew ACME certificates by provisioning a TLS certificate.</p>
<p>As described on the Let's Encrypt <a href="https://community.letsencrypt.org/t/support-for-ports-other-than-80-and-443/3419/72">community forum</a>,
when using the <code>TLS-ALPN-01</code> challenge, Traefik must be reachable by Let's Encrypt through port 443.</p>
<details class="example"><summary>Configuring the <code>tlsChallenge</code></summary><div class="superfences-tabs">
<input name="__tabs_6" type="radio" id="__tab_6_0" checked="checked" />
<label for="__tab_6_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">[certificatesResolvers.sample.acme]
  # ...
  [certificatesResolvers.sample.acme.tlsChallenge]</code></pre></div>
<input name="__tabs_6" type="radio" id="__tab_6_1" />
<label for="__tab_6_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">certificatesResolvers:
  sample:
    acme:
      # ...
      tlsChallenge: {}</code></pre></div>
<input name="__tabs_6" type="radio" id="__tab_6_2" />
<label for="__tab_6_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash"># ...
--certificatesResolvers.sample.acme.tlsChallenge=true</code></pre></div>
</div>
</details>
<h3 id="httpchallenge"><code>httpChallenge</code><a class="headerlink" href="#httpchallenge" title="Permanent link">&para;</a></h3>
<p>Use the <code>HTTP-01</code> challenge to generate and renew ACME certificates by provisioning an HTTP resource under a well-known URI.</p>
<p>As described on the Let's Encrypt <a href="https://community.letsencrypt.org/t/support-for-ports-other-than-80-and-443/3419/72">community forum</a>,
when using the <code>HTTP-01</code> challenge, <code>certificatesResolvers.sample.acme.httpChallenge.entryPoint</code> must be reachable by Let's Encrypt through port 80.</p>
<details class="example"><summary>Using an EntryPoint Called http for the <code>httpChallenge</code></summary><div class="superfences-tabs">
<input name="__tabs_7" type="radio" id="__tab_7_0" checked="checked" />
<label for="__tab_7_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">[entryPoints]
  [entryPoints.web]
    address = ":80"

  [entryPoints.web-secure]
    address = ":443"

[certificatesResolvers.sample.acme]
  # ...
  [certificatesResolvers.sample.acme.httpChallenge]
    entryPoint = "web"</code></pre></div>
<input name="__tabs_7" type="radio" id="__tab_7_1" />
<label for="__tab_7_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">entryPoints:
  web:
    address: ":80"

  web-secure:
    address: ":443"

certificatesResolvers:
  sample:
    acme:
      # ...
      httpChallenge:
        entryPoint: web</code></pre></div>
<input name="__tabs_7" type="radio" id="__tab_7_2" />
<label for="__tab_7_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash">--entryPoints.web.address=:80
--entryPoints.websecure.address=:443
# ...
--certificatesResolvers.sample.acme.httpChallenge.entryPoint=web</code></pre></div>
</div>
</details>
<div class="admonition info">
<p>Redirection is fully compatible with the <code>HTTP-01</code> challenge.</p>
</div>
<h3 id="dnschallenge"><code>dnsChallenge</code><a class="headerlink" href="#dnschallenge" title="Permanent link">&para;</a></h3>
<p>Use the <code>DNS-01</code> challenge to generate and renew ACME certificates by provisioning a DNS record.</p>
<details class="example"><summary>Configuring a <code>dnsChallenge</code> with the DigitalOcean Provider</summary><div class="superfences-tabs">
<input name="__tabs_8" type="radio" id="__tab_8_0" checked="checked" />
<label for="__tab_8_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">[certificatesResolvers.sample.acme]
  # ...
  [certificatesResolvers.sample.acme.dnsChallenge]
    provider = "digitalocean"
    delayBeforeCheck = 0
# ...</code></pre></div>
<input name="__tabs_8" type="radio" id="__tab_8_1" />
<label for="__tab_8_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">certificatesResolvers:
  sample:
    acme:
      # ...
      dnsChallenge:
        provider: digitalocean
        delayBeforeCheck: 0
    # ...</code></pre></div>
<input name="__tabs_8" type="radio" id="__tab_8_2" />
<label for="__tab_8_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash"># ...
--certificatesResolvers.sample.acme.dnsChallenge.provider=digitalocean
--certificatesResolvers.sample.acme.dnsChallenge.delayBeforeCheck=0
# ...</code></pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>A <code>provider</code> is mandatory.</p>
</div>
</details>
<h4 id="providers"><code>providers</code><a class="headerlink" href="#providers" title="Permanent link">&para;</a></h4>
<p>Here is a list of supported <code>providers</code>, that can automate the DNS verification,
along with the required environment variables and their <a href="#wildcard-domains">wildcard &amp; root domain support</a>.
Do not hesitate to complete it.</p>
<p>Every lego environment variable can be overridden by their respective <code>_FILE</code> counterpart, which should have a filepath to a file that contains the secret as its value.
For example, <code>CF_API_EMAIL_FILE=/run/secrets/traefik_cf-api-email</code> could be used to provide a Cloudflare API email address as a Docker secret named <code>traefik_cf-api-email</code>.</p>
<table>
<thead>
<tr>
<th>Provider Name</th>
<th>Provider Code</th>
<th>Environment Variables</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/joohoi/acme-dns">ACME DNS</a></td>
<td><code>acme-dns</code></td>
<td><code>ACME_DNS_API_BASE</code>, <code>ACME_DNS_STORAGE_PATH</code></td>
<td><a href="https://go-acme.github.io/lego/dns/acme-dns">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.alibabacloud.com">Alibaba Cloud</a></td>
<td><code>alidns</code></td>
<td><code>ALICLOUD_ACCESS_KEY</code>, <code>ALICLOUD_SECRET_KEY</code>, <code>ALICLOUD_REGION_ID</code></td>
<td><a href="https://go-acme.github.io/lego/dns/alidns">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.pcextreme.com/aurora/dns">Auroradns</a></td>
<td><code>auroradns</code></td>
<td><code>AURORA_USER_ID</code>, <code>AURORA_KEY</code>, <code>AURORA_ENDPOINT</code></td>
<td><a href="https://go-acme.github.io/lego/dns/auroradns">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.internetx.com/domains/autodns/">Autodns</a></td>
<td><code>autodns</code></td>
<td><code>AUTODNS_API_USER</code>, <code>AUTODNS_API_PASSWORD</code></td>
<td><a href="https://go-acme.github.io/lego/dns/autodns">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://azure.microsoft.com/services/dns/">Azure</a></td>
<td><code>azure</code></td>
<td><code>AZURE_CLIENT_ID</code>, <code>AZURE_CLIENT_SECRET</code>, <code>AZURE_SUBSCRIPTION_ID</code>, <code>AZURE_TENANT_ID</code>, <code>AZURE_RESOURCE_GROUP</code>, <code>[AZURE_METADATA_ENDPOINT]</code></td>
<td><a href="https://go-acme.github.io/lego/dns/azure">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://github.com/labbsr0x/bindman-dns-webhook">Bindman</a></td>
<td><code>bindman</code></td>
<td><code>BINDMAN_MANAGER_ADDRESS</code></td>
<td><a href="https://go-acme.github.io/lego/dns/bindman">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.bluecatnetworks.com/">Blue Cat</a></td>
<td><code>bluecat</code></td>
<td><code>BLUECAT_SERVER_URL</code>, <code>BLUECAT_USER_NAME</code>, <code>BLUECAT_PASSWORD</code>, <code>BLUECAT_CONFIG_NAME</code>, <code>BLUECAT_DNS_VIEW</code></td>
<td><a href="https://go-acme.github.io/lego/dns/bluecat">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.cloudns.net/">ClouDNS</a></td>
<td><code>cloudns</code></td>
<td><code>CLOUDNS_AUTH_ID</code>, <code>CLOUDNS_AUTH_PASSWORD</code></td>
<td><a href="https://go-acme.github.io/lego/dns/cloudns">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.cloudflare.com">Cloudflare</a></td>
<td><code>cloudflare</code></td>
<td><code>CF_API_EMAIL</code>, <code>CF_API_KEY</code> <sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup> or <code>CF_DNS_API_TOKEN</code>, <code>[CF_ZONE_API_TOKEN]</code></td>
<td><a href="https://go-acme.github.io/lego/dns/cloudflare">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.cloudxns.net">CloudXNS</a></td>
<td><code>cloudxns</code></td>
<td><code>CLOUDXNS_API_KEY</code>, <code>CLOUDXNS_SECRET_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/cloudxns">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.conoha.jp">ConoHa</a></td>
<td><code>conoha</code></td>
<td><code>CONOHA_TENANT_ID</code>, <code>CONOHA_API_USERNAME</code>, <code>CONOHA_API_PASSWORD</code></td>
<td><a href="https://go-acme.github.io/lego/dns/conoha">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.digitalocean.com">DigitalOcean</a></td>
<td><code>digitalocean</code></td>
<td><code>DO_AUTH_TOKEN</code></td>
<td><a href="https://go-acme.github.io/lego/dns/digitalocean">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://dnsimple.com">DNSimple</a></td>
<td><code>dnsimple</code></td>
<td><code>DNSIMPLE_OAUTH_TOKEN</code>, <code>DNSIMPLE_BASE_URL</code></td>
<td><a href="https://go-acme.github.io/lego/dns/dnsimple">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://dnsmadeeasy.com">DNS Made Easy</a></td>
<td><code>dnsmadeeasy</code></td>
<td><code>DNSMADEEASY_API_KEY</code>, <code>DNSMADEEASY_API_SECRET</code>, <code>DNSMADEEASY_SANDBOX</code></td>
<td><a href="https://go-acme.github.io/lego/dns/dnsmadeeasy">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.dnspod.com/">DNSPod</a></td>
<td><code>dnspod</code></td>
<td><code>DNSPOD_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/dnspod">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.do.de/">Domain Offensive (do.de)</a></td>
<td><code>dode</code></td>
<td><code>DODE_TOKEN</code></td>
<td><a href="https://go-acme.github.io/lego/dns/dode">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.dreamhost.com/">DreamHost</a></td>
<td><code>dreamhost</code></td>
<td><code>DREAMHOST_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/dreamhost">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.duckdns.org/">Duck DNS</a></td>
<td><code>duckdns</code></td>
<td><code>DUCKDNS_TOKEN</code></td>
<td><a href="https://go-acme.github.io/lego/dns/duckdns">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://dyn.com">Dyn</a></td>
<td><code>dyn</code></td>
<td><code>DYN_CUSTOMER_NAME</code>, <code>DYN_USER_NAME</code>, <code>DYN_PASSWORD</code></td>
<td><a href="https://go-acme.github.io/lego/dns/dyn">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://easydns.com/">EasyDNS</a></td>
<td><code>easydns</code></td>
<td><code>EASYDNS_TOKEN</code>, <code>EASYDNS_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/easydns">Additional configuration</a></td>
</tr>
<tr>
<td>External Program</td>
<td><code>exec</code></td>
<td><code>EXEC_PATH</code></td>
<td><a href="https://go-acme.github.io/lego/dns/exec">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.exoscale.com">Exoscale</a></td>
<td><code>exoscale</code></td>
<td><code>EXOSCALE_API_KEY</code>, <code>EXOSCALE_API_SECRET</code>, <code>EXOSCALE_ENDPOINT</code></td>
<td><a href="https://go-acme.github.io/lego/dns/exoscale">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.akamai.com/">Fast DNS</a></td>
<td><code>fastdns</code></td>
<td><code>AKAMAI_CLIENT_TOKEN</code>,  <code>AKAMAI_CLIENT_SECRET</code>,  <code>AKAMAI_ACCESS_TOKEN</code></td>
<td><a href="https://go-acme.github.io/lego/dns/fastdns">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.gandi.net">Gandi</a></td>
<td><code>gandi</code></td>
<td><code>GANDI_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/gandi">Additional configuration</a></td>
</tr>
<tr>
<td><a href="http://doc.livedns.gandi.net">Gandi v5</a></td>
<td><code>gandiv5</code></td>
<td><code>GANDIV5_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/gandiv5">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://glesys.com/">Glesys</a></td>
<td><code>glesys</code></td>
<td><code>GLESYS_API_USER</code>, <code>GLESYS_API_KEY</code>, <code>GLESYS_DOMAIN</code></td>
<td><a href="https://go-acme.github.io/lego/dns/glesys">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://godaddy.com/">GoDaddy</a></td>
<td><code>godaddy</code></td>
<td><code>GODADDY_API_KEY</code>, <code>GODADDY_API_SECRET</code></td>
<td><a href="https://go-acme.github.io/lego/dns/godaddy">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://cloud.google.com/dns/docs/">Google Cloud DNS</a></td>
<td><code>gcloud</code></td>
<td><code>GCE_PROJECT</code>, Application Default Credentials <sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup> <sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>, [<code>GCE_SERVICE_ACCOUNT_FILE</code>]</td>
<td><a href="https://go-acme.github.io/lego/dns/gcloud">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.hosting.de">hosting.de</a></td>
<td><code>hostingde</code></td>
<td><code>HOSTINGDE_API_KEY</code>, <code>HOSTINGDE_ZONE_NAME</code></td>
<td><a href="https://go-acme.github.io/lego/dns/hostingde">Additional configuration</a></td>
</tr>
<tr>
<td>HTTP request</td>
<td><code>httpreq</code></td>
<td><code>HTTPREQ_ENDPOINT</code>, <code>HTTPREQ_MODE</code>, <code>HTTPREQ_USERNAME</code>, <code>HTTPREQ_PASSWORD</code> <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></td>
<td><a href="https://go-acme.github.io/lego/dns/httpreq">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.iij.ad.jp/">IIJ</a></td>
<td><code>iij</code></td>
<td><code>IIJ_API_ACCESS_KEY</code>, <code>IIJ_API_SECRET_KEY</code>, <code>IIJ_DO_SERVICE_CODE</code></td>
<td><a href="https://go-acme.github.io/lego/dns/iij">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.inwx.de/en">INWX</a></td>
<td><code>inwx</code></td>
<td><code>INWX_USERNAME</code>, <code>INWX_PASSWORD</code></td>
<td><a href="https://go-acme.github.io/lego/dns/inwx">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://joker.com">Joker.com</a></td>
<td><code>joker</code></td>
<td><code>JOKER_API_KEY</code> or <code>JOKER_USERNAME</code>, <code>JOKER_PASSWORD</code></td>
<td><a href="https://go-acme.github.io/lego/dns/joker">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://aws.amazon.com/lightsail/">Lightsail</a></td>
<td><code>lightsail</code></td>
<td><code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>, <code>DNS_ZONE</code></td>
<td><a href="https://go-acme.github.io/lego/dns/lightsail">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.linode.com">Linode</a></td>
<td><code>linode</code></td>
<td><code>LINODE_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/linode">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.linode.com">Linode v4</a></td>
<td><code>linodev4</code></td>
<td><code>LINODE_TOKEN</code></td>
<td><a href="https://go-acme.github.io/lego/dns/linodev4">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.liquidweb.com/">Liquid Web</a></td>
<td><code>liquidweb</code></td>
<td><code>LIQUID_WEB_PASSWORD</code>, <code>LIQUID_WEB_USERNAME</code>, <code>LIQUID_WEB_ZONE</code></td>
<td><a href="https://go-acme.github.io/lego/dns/liquidweb">Additional configuration</a></td>
</tr>
<tr>
<td>manual</td>
<td>-</td>
<td>none, but you need to run Traefik interactively <sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup>, turn on debug log to see instructions and press <kbd>Enter</kbd>.</td>
<td></td>
</tr>
<tr>
<td><a href="https://www.mydns.jp/">MyDNS.jp</a></td>
<td><code>mydnsjp</code></td>
<td><code>MYDNSJP_MASTER_ID</code>, <code>MYDNSJP_PASSWORD</code></td>
<td><a href="https://go-acme.github.io/lego/dns/mydnsjp">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.namecheap.com">Namecheap</a></td>
<td><code>namecheap</code></td>
<td><code>NAMECHEAP_API_USER</code>, <code>NAMECHEAP_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/namecheap">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.name.com/">name.com</a></td>
<td><code>namedotcom</code></td>
<td><code>NAMECOM_USERNAME</code>, <code>NAMECOM_API_TOKEN</code>, <code>NAMECOM_SERVER</code></td>
<td><a href="https://go-acme.github.io/lego/dns/namedotcom">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.namesilo.com/">Namesilo</a></td>
<td><code>namesilo</code></td>
<td><code>NAMESILO_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/namesilo">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.netcup.eu/">Netcup</a></td>
<td><code>netcup</code></td>
<td><code>NETCUP_CUSTOMER_NUMBER</code>, <code>NETCUP_API_KEY</code>, <code>NETCUP_API_PASSWORD</code></td>
<td><a href="https://go-acme.github.io/lego/dns/netcup">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://cloud.nifty.com/service/dns.htm">NIFCloud</a></td>
<td><code>nifcloud</code></td>
<td><code>NIFCLOUD_ACCESS_KEY_ID</code>, <code>NIFCLOUD_SECRET_ACCESS_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/nifcloud">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://ns1.com/">Ns1</a></td>
<td><code>ns1</code></td>
<td><code>NS1_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/ns1">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://cloud.telekom.de">Open Telekom Cloud</a></td>
<td><code>otc</code></td>
<td><code>OTC_DOMAIN_NAME</code>, <code>OTC_USER_NAME</code>, <code>OTC_PASSWORD</code>, <code>OTC_PROJECT_NAME</code>, <code>OTC_IDENTITY_ENDPOINT</code></td>
<td><a href="https://go-acme.github.io/lego/dns/otc">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.ovh.com">OVH</a></td>
<td><code>ovh</code></td>
<td><code>OVH_ENDPOINT</code>, <code>OVH_APPLICATION_KEY</code>, <code>OVH_APPLICATION_SECRET</code>, <code>OVH_CONSUMER_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/ovh">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://docs.openstack.org/designate">Openstack Designate</a></td>
<td><code>designate</code></td>
<td><code>OS_AUTH_URL</code>, <code>OS_USERNAME</code>, <code>OS_PASSWORD</code>, <code>OS_TENANT_NAME</code>, <code>OS_REGION_NAME</code></td>
<td><a href="https://go-acme.github.io/lego/dns/designate">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://cloud.oracle.com/home">Oracle Cloud</a></td>
<td><code>oraclecloud</code></td>
<td><code>OCI_COMPARTMENT_OCID</code>, <code>OCI_PRIVKEY_FILE</code>, <code>OCI_PRIVKEY_PASS</code>, <code>OCI_PUBKEY_FINGERPRINT</code>, <code>OCI_REGION</code>, <code>OCI_TENANCY_OCID</code>, <code>OCI_USER_OCID</code></td>
<td><a href="https://go-acme.github.io/lego/dns/oraclecloud">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.powerdns.com">PowerDNS</a></td>
<td><code>pdns</code></td>
<td><code>PDNS_API_KEY</code>, <code>PDNS_API_URL</code></td>
<td><a href="https://go-acme.github.io/lego/dns/pdns">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.rackspace.com/cloud/dns">Rackspace</a></td>
<td><code>rackspace</code></td>
<td><code>RACKSPACE_USER</code>, <code>RACKSPACE_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/rackspace">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://tools.ietf.org/html/rfc2136">RFC2136</a></td>
<td><code>rfc2136</code></td>
<td><code>RFC2136_TSIG_KEY</code>, <code>RFC2136_TSIG_SECRET</code>, <code>RFC2136_TSIG_ALGORITHM</code>, <code>RFC2136_NAMESERVER</code></td>
<td><a href="https://go-acme.github.io/lego/dns/rfc2136">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://aws.amazon.com/route53/">Route 53</a></td>
<td><code>route53</code></td>
<td><code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>, <code>[AWS_REGION]</code>, <code>[AWS_HOSTED_ZONE_ID]</code> or a configured user/instance IAM profile.</td>
<td><a href="https://go-acme.github.io/lego/dns/route53">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://cloud.sakura.ad.jp/">Sakura Cloud</a></td>
<td><code>sakuracloud</code></td>
<td><code>SAKURACLOUD_ACCESS_TOKEN</code>, <code>SAKURACLOUD_ACCESS_TOKEN_SECRET</code></td>
<td><a href="https://go-acme.github.io/lego/dns/sakuracloud">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://selectel.ru/en/">Selectel</a></td>
<td><code>selectel</code></td>
<td><code>SELECTEL_API_TOKEN</code></td>
<td><a href="https://go-acme.github.io/lego/dns/selectel">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.stackpath.com/">Stackpath</a></td>
<td><code>stackpath</code></td>
<td><code>STACKPATH_CLIENT_ID</code>, <code>STACKPATH_CLIENT_SECRET</code>, <code>STACKPATH_STACK_ID</code></td>
<td><a href="https://go-acme.github.io/lego/dns/stackpath">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.transip.nl/">TransIP</a></td>
<td><code>transip</code></td>
<td><code>TRANSIP_ACCOUNT_NAME</code>, <code>TRANSIP_PRIVATE_KEY_PATH</code></td>
<td><a href="https://go-acme.github.io/lego/dns/transip">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://github.com/shupp/VegaDNS-API">VegaDNS</a></td>
<td><code>vegadns</code></td>
<td><code>SECRET_VEGADNS_KEY</code>, <code>SECRET_VEGADNS_SECRET</code>, <code>VEGADNS_URL</code></td>
<td><a href="https://go-acme.github.io/lego/dns/vegadns">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.versio.nl/domeinnamen">Versio</a></td>
<td><code>versio</code></td>
<td><code>VERSIO_USERNAME</code>, <code>VERSIO_PASSWORD</code></td>
<td><a href="https://go-acme.github.io/lego/dns/versio">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://vscale.io/">Vscale</a></td>
<td><code>vscale</code></td>
<td><code>VSCALE_API_TOKEN</code></td>
<td><a href="https://go-acme.github.io/lego/dns/vscale">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.vultr.com">VULTR</a></td>
<td><code>vultr</code></td>
<td><code>VULTR_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/vultr">Additional configuration</a></td>
</tr>
<tr>
<td><a href="https://www.zone.ee">Zone.ee</a></td>
<td><code>zoneee</code></td>
<td><code>ZONEEE_API_USER</code>, <code>ZONEEE_API_KEY</code></td>
<td><a href="https://go-acme.github.io/lego/dns/zoneee">Additional configuration</a></td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title"><code>delayBeforeCheck</code></p>
<p>By default, the <code>provider</code> verifies the TXT record <em>before</em> letting ACME verify.
You can delay this operation by specifying a delay (in seconds) with <code>delayBeforeCheck</code> (value must be greater than zero).
This option is useful when internal networks block external DNS queries.</p>
</div>
<h4 id="resolvers"><code>resolvers</code><a class="headerlink" href="#resolvers" title="Permanent link">&para;</a></h4>
<p>Use custom DNS servers to resolve the FQDN authority.</p>
<div class="superfences-tabs">
<input name="__tabs_9" type="radio" id="__tab_9_0" checked="checked" />
<label for="__tab_9_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">[certificatesResolvers.sample.acme]
  # ...
  [certificatesResolvers.sample.acme.dnsChallenge]
    # ...
    resolvers = ["1.1.1.1:53", "8.8.8.8:53"]</code></pre></div>
<input name="__tabs_9" type="radio" id="__tab_9_1" />
<label for="__tab_9_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">certificatesResolvers:
  sample:
    acme:
      # ...
      dnsChallenge:
        # ...
        resolvers:
          - "1.1.1.1:53"
          - "8.8.8.8:53"</code></pre></div>
<input name="__tabs_9" type="radio" id="__tab_9_2" />
<label for="__tab_9_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash"># ...
--certificatesResolvers.sample.acme.dnsChallenge.resolvers:=1.1.1.1:53,8.8.8.8:53</code></pre></div>
</div>
<h4 id="wildcard-domains">Wildcard Domains<a class="headerlink" href="#wildcard-domains" title="Permanent link">&para;</a></h4>
<p><a href="https://community.letsencrypt.org/t/acme-v2-and-wildcard-certificate-support-is-live/55579">ACME V2</a> supports wildcard certificates.
As described in <a href="https://community.letsencrypt.org/t/staging-endpoint-for-acme-v2/49605">Let's Encrypt's post</a> wildcard certificates can only be generated through a <a href="#dnschallenge"><code>DNS-01</code> challenge</a>.</p>
<h2 id="more-configuration">More Configuration<a class="headerlink" href="#more-configuration" title="Permanent link">&para;</a></h2>
<h3 id="caserver"><code>caServer</code><a class="headerlink" href="#caserver" title="Permanent link">&para;</a></h3>
<details class="example"><summary>Using the Let's Encrypt staging server</summary><div class="superfences-tabs">
<input name="__tabs_10" type="radio" id="__tab_10_0" checked="checked" />
<label for="__tab_10_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">[certificatesResolvers.sample.acme]
  # ...
  caServer = "https://acme-staging-v02.api.letsencrypt.org/directory"
  # ...</code></pre></div>
<input name="__tabs_10" type="radio" id="__tab_10_1" />
<label for="__tab_10_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">certificatesResolvers:
  sample:
    acme:
      # ...
      caServer: https://acme-staging-v02.api.letsencrypt.org/directory
      # ...</code></pre></div>
<input name="__tabs_10" type="radio" id="__tab_10_2" />
<label for="__tab_10_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash"># ...
--certificatesResolvers.sample.acme.caServer=https://acme-staging-v02.api.letsencrypt.org/directory
# ...</code></pre></div>
</div>
</details>
<h3 id="storage"><code>storage</code><a class="headerlink" href="#storage" title="Permanent link">&para;</a></h3>
<p>The <code>storage</code> option sets the location where your ACME certificates are saved to.</p>
<div class="superfences-tabs">
<input name="__tabs_11" type="radio" id="__tab_11_0" checked="checked" />
<label for="__tab_11_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">[certificatesResolvers.sample.acme]
  # ...
  storage = "acme.json"
  # ...</code></pre></div>
<input name="__tabs_11" type="radio" id="__tab_11_1" />
<label for="__tab_11_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">certificatesResolvers:
  sample:
    acme:
      # ...
      storage: acme.json
      # ...</code></pre></div>
<input name="__tabs_11" type="radio" id="__tab_11_2" />
<label for="__tab_11_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash"># ...
--certificatesResolvers.sample.acme.storage=acme.json
# ...</code></pre></div>
</div>
<p>The value can refer to some kinds of storage:</p>
<ul>
<li>a JSON file</li>
</ul>
<h4 id="in-a-file">In a File<a class="headerlink" href="#in-a-file" title="Permanent link">&para;</a></h4>
<p>ACME certificates can be stored in a JSON file that needs to have a <code>600</code> file mode .</p>
<p>In Docker you can mount either the JSON file, or the folder containing it:</p>
<pre class="highlight"><code class="language-bash">docker run -v "/my/host/acme.json:/acme.json" traefik</code></pre>

<pre class="highlight"><code class="language-bash">docker run -v "/my/host/acme:/etc/traefik/acme" traefik</code></pre>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For concurrency reason, this file cannot be shared across multiple instances of Traefik.</p>
</div>
<h2 id="fallback">Fallback<a class="headerlink" href="#fallback" title="Permanent link">&para;</a></h2>
<p>If Let's Encrypt is not reachable, the following certificates will apply:</p>
<ol>
<li>Previously generated ACME certificates (before downtime)</li>
<li>Expired ACME certificates</li>
<li>Provided certificates</li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>For new (sub)domains which need Let's Encrypt authentication, the default Traefik certificate will be used until Traefik is restarted.</p>
</div>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>more information about the HTTP message format can be found <a href="https://go-acme.github.io/lego/dns/httpreq/">here</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p><a href="https://cloud.google.com/docs/authentication/production#providing_credentials_to_your_application">providing_credentials_to_your_application</a>&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p><a href="https://github.com/golang/oauth2/blob/36a7019397c4c86cf59eeab3bc0d188bac444277/google/default.go#L61-L76">google/default.go</a>&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p><code>docker stack</code> remark: there is no way to support terminal attached to container when deploying with <code>docker stack</code>, so you might need to run container with <code>docker run -it</code> to generate certificates using <code>manual</code> provider.&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>The <code>Global API Key</code> needs to be used, not the <code>Origin CA Key</code>.&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      



<!-- Application footer -->
<footer class="md-footer">

    <!-- Further information -->
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">

            <!-- Copyright and theme information -->
            <div class="md-footer-copyright">
                
                <div class="md-footer-copyright__highlight">
                    Copyright &copy; 2016-2019 Containous
                </div>
                
                powered by
                <a href="https://www.mkdocs.org" title="MkDocs">MkDocs</a>
                and
                <a href="https://squidfunk.github.io/mkdocs-material/"
                   title="Material for MkDocs">
                    Material for MkDocs</a>
            </div>

            <!-- Social links -->
            
            
            
        </div>
    </div>
</footer>


    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../assets/js/hljs/highlight.pack.js"></script>
      
        <script src="../../assets/js/extra.js"></script>
      
        <script src="../../theme/js/structor-menu.js"></script>
      
    
  </body>
</html>