



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Traefik Documentation">
      
      
      
        <meta name="author" content="containo.us">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/img/traefik.icon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Routers - Traefik</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#00bcd4">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/styles/extra.css">
    
      <link rel="stylesheet" href="../../assets/styles/atom-one-light.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-51880359-3", "docs.traefik.io")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="cyan" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#routers" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Traefik" class="md-header-nav__button md-logo">
          
            <img src="../../assets/img/traefik.logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Traefik
            </span>
            <span class="md-header-nav__topic">
              
                Routers
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/containous/traefik/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Traefik" class="md-nav__button md-logo">
      
        <img src="../../assets/img/traefik.logo.png" width="48" height="48">
      
    </a>
    Traefik
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/containous/traefik/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/concepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/quick-start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/configuration-overview/" title="Configuration Introduction" class="md-nav__link">
      Configuration Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/install-traefik/" title="Install Traefik" class="md-nav__link">
      Install Traefik
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Configuration Discovery
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Configuration Discovery
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/kubernetes-crd/" title="Kubernetes IngressRoute" class="md-nav__link">
      Kubernetes IngressRoute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/kubernetes-ingress/" title="Kubernetes Ingress" class="md-nav__link">
      Kubernetes Ingress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/rancher/" title="Rancher" class="md-nav__link">
      Rancher
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/file/" title="File" class="md-nav__link">
      File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/marathon/" title="Marathon" class="md-nav__link">
      Marathon
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Routing & Load Balancing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Routing & Load Balancing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../entrypoints/" title="EntryPoints" class="md-nav__link">
      EntryPoints
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Routers
      </label>
    
    <a href="./" title="Routers" class="md-nav__link md-nav__link--active">
      Routers
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-example" class="md-nav__link">
    Configuration Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-http-routers" class="md-nav__link">
    Configuring HTTP Routers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entrypoints" class="md-nav__link">
    EntryPoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule" class="md-nav__link">
    Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#priority" class="md-nav__link">
    Priority
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#middlewares" class="md-nav__link">
    Middlewares
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service" class="md-nav__link">
    Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls" class="md-nav__link">
    TLS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certresolver" class="md-nav__link">
    certResolver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains" class="md-nav__link">
    domains
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-tcp-routers" class="md-nav__link">
    Configuring TCP Routers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general_1" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entrypoints_1" class="md-nav__link">
    EntryPoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule_1" class="md-nav__link">
    Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#services" class="md-nav__link">
    Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls_1" class="md-nav__link">
    TLS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general_2" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options_1" class="md-nav__link">
    options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certresolver_1" class="md-nav__link">
    certResolver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains_1" class="md-nav__link">
    domains
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../services/" title="Services" class="md-nav__link">
      Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Providers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Providers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../providers/docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../providers/kubernetes-crd/" title="Kubernetes IngressRoute" class="md-nav__link">
      Kubernetes IngressRoute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../providers/rancher/" title="Rancher" class="md-nav__link">
      Rancher
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../providers/marathon/" title="Marathon" class="md-nav__link">
      Marathon
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      HTTPS & TLS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        HTTPS & TLS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../https/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../https/tls/" title="TLS" class="md-nav__link">
      TLS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../https/acme/" title="Let's Encrypt" class="md-nav__link">
      Let's Encrypt
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Middlewares
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Middlewares
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/addprefix/" title="AddPrefix" class="md-nav__link">
      AddPrefix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/basicauth/" title="BasicAuth" class="md-nav__link">
      BasicAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/buffering/" title="Buffering" class="md-nav__link">
      Buffering
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/chain/" title="Chain" class="md-nav__link">
      Chain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/circuitbreaker/" title="CircuitBreaker" class="md-nav__link">
      CircuitBreaker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/compress/" title="Compress" class="md-nav__link">
      Compress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/digestauth/" title="DigestAuth" class="md-nav__link">
      DigestAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/errorpages/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/forwardauth/" title="ForwardAuth" class="md-nav__link">
      ForwardAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/headers/" title="Headers" class="md-nav__link">
      Headers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/ipwhitelist/" title="IpWhitelist" class="md-nav__link">
      IpWhitelist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/inflightreq/" title="InFlightReq" class="md-nav__link">
      InFlightReq
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/passtlsclientcert/" title="PassTLSClientCert" class="md-nav__link">
      PassTLSClientCert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/ratelimit/" title="RateLimit" class="md-nav__link">
      RateLimit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/redirectregex/" title="RedirectRegex" class="md-nav__link">
      RedirectRegex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/redirectscheme/" title="RedirectScheme" class="md-nav__link">
      RedirectScheme
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/replacepath/" title="ReplacePath" class="md-nav__link">
      ReplacePath
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/replacepathregex/" title="ReplacePathRegex" class="md-nav__link">
      ReplacePathRegex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/retry/" title="Retry" class="md-nav__link">
      Retry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/stripprefix/" title="StripPrefix" class="md-nav__link">
      StripPrefix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/stripprefixregex/" title="StripPrefixRegex" class="md-nav__link">
      StripPrefixRegex
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Operations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Operations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/dashboard/" title="Dashboard" class="md-nav__link">
      Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/ping/" title="Ping" class="md-nav__link">
      Ping
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Observability
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Observability
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/logs/" title="Logs" class="md-nav__link">
      Logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/access-logs/" title="Access Logs" class="md-nav__link">
      Access Logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-3" type="checkbox" id="nav-8-3">
    
    <label class="md-nav__link" for="nav-8-3">
      Metrics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-3">
        Metrics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/metrics/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/metrics/datadog/" title="Datadog" class="md-nav__link">
      Datadog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/metrics/influxdb/" title="InfluxDB" class="md-nav__link">
      InfluxDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/metrics/prometheus/" title="Prometheus" class="md-nav__link">
      Prometheus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/metrics/statsd/" title="StatsD" class="md-nav__link">
      StatsD
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4" type="checkbox" id="nav-8-4">
    
    <label class="md-nav__link" for="nav-8-4">
      Tracing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-4">
        Tracing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/jaeger/" title="Jaeger" class="md-nav__link">
      Jaeger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/zipkin/" title="Zipkin" class="md-nav__link">
      Zipkin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/datadog/" title="Datadog" class="md-nav__link">
      Datadog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/instana/" title="Instana" class="md-nav__link">
      Instana
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/haystack/" title="Haystack" class="md-nav__link">
      Haystack
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      User Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        User Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/crd-acme/" title="Kubernetes and Let's Encrypt" class="md-nav__link">
      Kubernetes and Let's Encrypt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/grpc/" title="gRPC Examples" class="md-nav__link">
      gRPC Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/marathon/" title="Marathon" class="md-nav__link">
      Marathon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-4" type="checkbox" id="nav-9-4">
    
    <label class="md-nav__link" for="nav-9-4">
      Docker
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-4">
        Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/docker-compose/basic-example/" title="Basic Example" class="md-nav__link">
      Basic Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-4-2" type="checkbox" id="nav-9-4-2">
    
    <label class="md-nav__link" for="nav-9-4-2">
      HTTPS with Let's Encrypt
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-9-4-2">
        HTTPS with Let's Encrypt
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/docker-compose/acme-tls/" title="TLS Challenge" class="md-nav__link">
      TLS Challenge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/docker-compose/acme-http/" title="HTTP Challenge" class="md-nav__link">
      HTTP Challenge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/docker-compose/acme-dns/" title="DNS Challenge" class="md-nav__link">
      DNS Challenge
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Migration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Migration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../migration/v1-to-v2/" title="Traefik v1 to v2" class="md-nav__link">
      Traefik v1 to v2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Contributing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Contributing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/thank-you/" title="Thank You!" class="md-nav__link">
      Thank You!
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/submitting-issues/" title="Submitting Issues" class="md-nav__link">
      Submitting Issues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/submitting-pull-requests/" title="Submitting PRs" class="md-nav__link">
      Submitting PRs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/submitting-security-issues/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/building-testing/" title="Building and Testing" class="md-nav__link">
      Building and Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/documentation/" title="Documentation" class="md-nav__link">
      Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/data-collection/" title="Data Collection" class="md-nav__link">
      Data Collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/advocating/" title="Advocating" class="md-nav__link">
      Advocating
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/maintainers/" title="Maintainers" class="md-nav__link">
      Maintainers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      References
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        References
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-1" type="checkbox" id="nav-12-1">
    
    <label class="md-nav__link" for="nav-12-1">
      Static Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-1">
        Static Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/static-configuration/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/static-configuration/file/" title="File" class="md-nav__link">
      File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/static-configuration/cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/static-configuration/env/" title="Environment variables" class="md-nav__link">
      Environment variables
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-2" type="checkbox" id="nav-12-2">
    
    <label class="md-nav__link" for="nav-12-2">
      Dynamic Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-2">
        Dynamic Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/dynamic-configuration/file/" title="File" class="md-nav__link">
      File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/dynamic-configuration/docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/dynamic-configuration/kubernetes-crd/" title="Kubernetes CRD" class="md-nav__link">
      Kubernetes CRD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/dynamic-configuration/marathon/" title="Marathon" class="md-nav__link">
      Marathon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/dynamic-configuration/rancher/" title="Rancher" class="md-nav__link">
      Rancher
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-example" class="md-nav__link">
    Configuration Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-http-routers" class="md-nav__link">
    Configuring HTTP Routers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entrypoints" class="md-nav__link">
    EntryPoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule" class="md-nav__link">
    Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#priority" class="md-nav__link">
    Priority
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#middlewares" class="md-nav__link">
    Middlewares
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service" class="md-nav__link">
    Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls" class="md-nav__link">
    TLS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certresolver" class="md-nav__link">
    certResolver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains" class="md-nav__link">
    domains
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-tcp-routers" class="md-nav__link">
    Configuring TCP Routers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general_1" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entrypoints_1" class="md-nav__link">
    EntryPoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule_1" class="md-nav__link">
    Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#services" class="md-nav__link">
    Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls_1" class="md-nav__link">
    TLS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general_2" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options_1" class="md-nav__link">
    options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certresolver_1" class="md-nav__link">
    certResolver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains_1" class="md-nav__link">
    domains
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/containous/traefik/edit/v2.0/docs/content/routing/routers/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="routers">Routers<a class="headerlink" href="#routers" title="Permanent link">&para;</a></h1>
<p class="subtitle">Connecting Requests to Services</p>
<p><img alt="routers" src="../../assets/img/routers.png" /></p>
<p>A router is in charge of connecting incoming requests to the services that can handle them.
In the process, routers may use pieces of <a href="../../middlewares/overview/">middleware</a> to update the request, or act before forwarding the request to the service.</p>
<h2 id="configuration-example">Configuration Example<a class="headerlink" href="#configuration-example" title="Permanent link">&para;</a></h2>
<details class="example"><summary>Requests /foo are Handled by service-foo -- Using the <a href="../../providers/file/">File Provider</a></summary><div class="superfences-tabs">
<input name="__tabs_1" type="radio" id="__tab_1_0" checked="checked" />
<label for="__tab_1_0">TOML</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.my-router]
    rule = "Path(`/foo`)"
    service = "service-foo"</code></pre></div>
<input name="__tabs_1" type="radio" id="__tab_1_1" />
<label for="__tab_1_1">YAML</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    my-router:
      rule: "Path(`/foo`)"
      service: service-foo</code></pre></div>
</div>
</details>
<details class="example"><summary>Forwarding all (non-tls) requests on port 3306 to a database service</summary><p><strong>Dynamic Configuration</strong></p>
<div class="superfences-tabs">
<input name="__tabs_2" type="radio" id="__tab_2_0" checked="checked" />
<label for="__tab_2_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[tcp]
  [tcp.routers]
    [tcp.routers.to-database]
      entryPoints = ["mysql"]
      # Catch every request (only available rule for non-tls routers. See below.)
      rule = "HostSNI(`*`)"
      service = "database"</code></pre></div>
<input name="__tabs_2" type="radio" id="__tab_2_1" />
<label for="__tab_2_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
tcp:
  routers:
    to-database:
      entryPoints:
        - "mysql"
      # Catch every request (only available rule for non-tls routers. See below.)
      rule: "HostSNI(`*`)"
      service: database</code></pre></div>
</div>
<p><strong>Static Configuration</strong></p>
<div class="superfences-tabs">
<input name="__tabs_3" type="radio" id="__tab_3_0" checked="checked" />
<label for="__tab_3_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Static configuration
[entryPoints]
  [entryPoints.web]
    address = ":80"
  [entryPoints.mysql]
    address = ":3306"   </code></pre></div>
<input name="__tabs_3" type="radio" id="__tab_3_1" />
<label for="__tab_3_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Static configuration
entryPoints:
  web:
    address: ":80"
  mysql:
    address: ":3306"   </code></pre></div>
<input name="__tabs_3" type="radio" id="__tab_3_2" />
<label for="__tab_3_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash">## Static configuration
--entryPoints.web.address=:80
--entryPoints.mysql.address=:3306</code></pre></div>
</div>
</details>
<h2 id="configuring-http-routers">Configuring HTTP Routers<a class="headerlink" href="#configuring-http-routers" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">The character <code>@</code> is not authorized in the router name</p>
</div>
<h3 id="entrypoints">EntryPoints<a class="headerlink" href="#entrypoints" title="Permanent link">&para;</a></h3>
<p>If not specified, HTTP routers will accept requests from all defined entry points.
If you want to limit the router scope to a set of entry points, set the <code>entryPoints</code> option.</p>
<details class="example"><summary>Listens to Every EntryPoint</summary><p><strong>Dynamic Configuration</strong></p>
<div class="superfences-tabs">
<input name="__tabs_4" type="radio" id="__tab_4_0" checked="checked" />
<label for="__tab_4_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.Router-1]
    # By default, routers listen to every entry points
    rule = "Host(`traefik.io`)"
    service = "service-1"</code></pre></div>
<input name="__tabs_4" type="radio" id="__tab_4_1" />
<label for="__tab_4_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    Router-1:
      # By default, routers listen to every entry points
      rule: "Host(`traefik.io`)"
      service: "service-1"</code></pre></div>
</div>
<p><strong>Static Configuration</strong></p>
<div class="superfences-tabs">
<input name="__tabs_5" type="radio" id="__tab_5_0" checked="checked" />
<label for="__tab_5_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Static configuration
[entryPoints]
  [entryPoints.web]
    address = ":80"
  [entryPoints.websecure]
    address = ":443"
  [entryPoints.other]
    address = ":9090"</code></pre></div>
<input name="__tabs_5" type="radio" id="__tab_5_1" />
<label for="__tab_5_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Static configuration
entryPoints:
  web:
    address: ":80"
  websecure:
    address: ":443"
  other:
    address: ":9090"</code></pre></div>
<input name="__tabs_5" type="radio" id="__tab_5_2" />
<label for="__tab_5_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash">## Static configuration
--entrypoints.web.address=:80
--entrypoints.websecure.address=:443
--entrypoints.other.address=:9090</code></pre></div>
</div>
</details>
<details class="example"><summary>Listens to Specific EntryPoints</summary><p><strong>Dynamic Configuration</strong></p>
<div class="superfences-tabs">
<input name="__tabs_6" type="radio" id="__tab_6_0" checked="checked" />
<label for="__tab_6_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.Router-1]
    # won't listen to entry point web
    entryPoints = ["websecure", "other"]
    rule = "Host(`traefik.io`)"
    service = "service-1"</code></pre></div>
<input name="__tabs_6" type="radio" id="__tab_6_1" />
<label for="__tab_6_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    Router-1:
      # won't listen to entry point web
      entryPoints:
        - "websecure"
        - "other"
      rule: "Host(`traefik.io`)"
      service: "service-1"</code></pre></div>
</div>
<p><strong>Static Configuration</strong></p>
<div class="superfences-tabs">
<input name="__tabs_7" type="radio" id="__tab_7_0" checked="checked" />
<label for="__tab_7_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Static configuration
[entryPoints]
  [entryPoints.web]
    address = ":80"
  [entryPoints.websecure]
    address = ":443"
  [entryPoints.other]
    address = ":9090"</code></pre></div>
<input name="__tabs_7" type="radio" id="__tab_7_1" />
<label for="__tab_7_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Static configuration
entryPoints:
  web:
    address: ":80"
  websecure:
    address: ":443"
  other:
    address: ":9090"</code></pre></div>
<input name="__tabs_7" type="radio" id="__tab_7_2" />
<label for="__tab_7_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash">## Static configuration
--entrypoints.web.address=:80
--entrypoints.websecure.address=:443
--entrypoints.other.address=:9090</code></pre></div>
</div>
</details>
<h3 id="rule">Rule<a class="headerlink" href="#rule" title="Permanent link">&para;</a></h3>
<p>Rules are a set of matchers configured with values, that determine if a particular request matches specific criteria.
If the rule is verified, the router becomes active, calls middlewares, and then forwards the request to the service.</p>
<details class="tip"><summary>Backticks or Quotes?</summary><p>To set the value of a rule, use <a href="https://en.wiktionary.org/wiki/backtick">backticks</a> <code>`</code> or escaped double-quotes <code>\"</code>.</p>
<p>Single quotes <code>'</code> are not accepted as values are <a href="https://golang.org/ref/spec#String_literals">Golang's String Literals</a>.</p>
</details>
<div class="admonition example">
<p class="admonition-title">Host is traefik.io</p>
<pre class="highlight"><code class="language-toml">rule = "Host(`traefik.io`)"</code></pre>

</div>
<div class="admonition example">
<p class="admonition-title">Host is traefik.io OR Host is containo.us AND path is /traefik</p>
<pre class="highlight"><code class="language-toml">rule = "Host(`traefik.io`) || (Host(`containo.us`) &amp;&amp; Path(`/traefik`))"</code></pre>

</div>
<p>The table below lists all the available matchers:</p>
<table>
<thead>
<tr>
<th>Rule</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Headers(`key`, `value`)</code></td>
<td>Check if there is a key <code>key</code>defined in the headers, with the value <code>value</code></td>
</tr>
<tr>
<td><code>HeadersRegexp(`key`, `regexp`)</code></td>
<td>Check if there is a key <code>key</code>defined in the headers, with a value that matches the regular expression <code>regexp</code></td>
</tr>
<tr>
<td><code>Host(`domain-1`, ...)</code></td>
<td>Check if the request domain targets one of the given <code>domains</code>.</td>
</tr>
<tr>
<td><code>HostRegexp(`traefik.io`, `{subdomain:[a-z]+}.traefik.io`, ...)</code></td>
<td>Check if the request domain matches the given <code>regexp</code>.</td>
</tr>
<tr>
<td><code>Method(`GET`, ...)</code></td>
<td>Check if the request method is one of the given <code>methods</code> (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, <code>PATCH</code>)</td>
</tr>
<tr>
<td><code>Path(`/path`, `/articles/{category}/{id:[0-9]+}`, ...)</code></td>
<td>Match exact request path. It accepts a sequence of literal and regular expression paths.</td>
</tr>
<tr>
<td><code>PathPrefix(`/products/`, `/articles/{category}/{id:[0-9]+}`)</code></td>
<td>Match request prefix path. It accepts a sequence of literal and regular expression prefix paths.</td>
</tr>
<tr>
<td><code>Query(`foo=bar`, `bar=baz`)</code></td>
<td>Match Query String parameters. It accepts a sequence of key=value pairs.</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="admonition-title">Regexp Syntax</p>
<p>In order to use regular expressions with <code>Host</code> and <code>Path</code> expressions,
you must declare an arbitrarily named variable followed by the colon-separated regular expression, all enclosed in curly braces.
Any pattern supported by <a href="https://golang.org/pkg/regexp/">Go's regexp package</a> may be used (example: <code>/posts/{id:[0-9]+}</code>).</p>
</div>
<div class="admonition info">
<p class="admonition-title">Combining Matchers Using Operators and Parenthesis</p>
<p>You can combine multiple matchers using the AND (<code>&amp;&amp;</code>) and OR (<code>||</code>) operators. You can also use parenthesis.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Rule, Middleware, and Services</p>
<p>The rule is evaluated "before" any middleware has the opportunity to work, and "before" the request is forwarded to the service.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Path Vs PathPrefix</p>
<p>Use <code>Path</code> if your service listens on the exact path only. For instance, <code>Path: /products</code> would match <code>/products</code> but not <code>/products/shoes</code>.</p>
<p>Use a <code>*Prefix*</code> matcher if your service listens on a particular base path but also serves requests on sub-paths.
For instance, <code>PathPrefix: /products</code> would match <code>/products</code> but also <code>/products/shoes</code> and <code>/products/shirts</code>.
Since the path is forwarded as-is, your service is expected to listen on <code>/products</code>.</p>
</div>
<h3 id="priority">Priority<a class="headerlink" href="#priority" title="Permanent link">&para;</a></h3>
<p>To avoid path overlap, routes are sorted, by default, in descending order using rules length. The priority is directly equal to the length of the rule, and so the longest length has the highest priority.</p>
<p>A value of <code>0</code> for the priority is ignored: <code>priority = 0</code> means that the default rules length sorting is used.</p>
<details class="info"><summary>How default priorities are computed</summary><div class="superfences-tabs">
<input name="__tabs_8" type="radio" id="__tab_8_0" checked="checked" />
<label for="__tab_8_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.Router-1]
    rule = "HostRegexp(`.*\.traefik\.com`)"
    # ...
  [http.routers.Router-2]
    rule = "Host(`foobar.traefik.com`)"
    # ...</code></pre></div>
<input name="__tabs_8" type="radio" id="__tab_8_1" />
<label for="__tab_8_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    Router-1:
      rule: "HostRegexp(`.*\.traefik\.com`)"
      # ...
    Router-2:
      rule: "Host(`foobar.traefik.com`)"
      # ...</code></pre></div>
</div>
<p>In this case, all requests with host <code>foobar.traefik.com</code> will be routed through <code>Router-1</code> instead of <code>Router-2</code>.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Rule</th>
<th>Priority</th>
</tr>
</thead>
<tbody>
<tr>
<td>Router-1</td>
<td><code>HostRegexp(`.*\.traefik\.com`)</code></td>
<td>30</td>
</tr>
<tr>
<td>Router-2</td>
<td><code>Host(`foobar.traefik.com`)</code></td>
<td>26</td>
</tr>
</tbody>
</table>
<p>The previous table shows that <code>Router-1</code> has a higher priority than <code>Router-2</code>.</p>
<p>To solve this issue, the priority must be set.</p>
</details>
<details class="example"><summary>Set priorities -- using the <a href="../../providers/file/">File Provider</a></summary><div class="superfences-tabs">
<input name="__tabs_9" type="radio" id="__tab_9_0" checked="checked" />
<label for="__tab_9_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.Router-1]
    rule = "HostRegexp(`.*\.traefik\.com`)"
    entryPoints = ["web"]
    service = "service-1"
    priority = 1
  [http.routers.Router-2]
    rule = "Host(`foobar.traefik.com`)"
    entryPoints = ["web"]
    priority = 2
    service = "service-2"</code></pre></div>
<input name="__tabs_9" type="radio" id="__tab_9_1" />
<label for="__tab_9_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    Router-1:
      rule: "HostRegexp(`.*\.traefik\.com`)"
      entryPoints:
      - "web"
      service: service-1
      priority: 1
    Router-2:
      rule: "Host(`foobar.traefik.com`)"
      entryPoints:
      - "web"
      priority: 2
      service: service-2</code></pre></div>
</div>
<p>In this configuration, the priority is configured to allow <code>Router-2</code> to handle requests with the <code>foobar.traefik.com</code> host.</p>
</details>
<h3 id="middlewares">Middlewares<a class="headerlink" href="#middlewares" title="Permanent link">&para;</a></h3>
<p>You can attach a list of <a href="../../middlewares/overview/">middlewares</a> to each HTTP router.
The middlewares will take effect only if the rule matches, and before forwarding the request to the service.</p>
<div class="admonition warning">
<p class="admonition-title">The character <code>@</code> is not authorized in the middleware name.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Middlewares order</p>
<p>Middlewares are applied in the same order as their declaration in <strong>router</strong>.</p>
</div>
<details class="example"><summary>With a <a href="../../middlewares/overview/">middleware</a> -- using the <a href="../../providers/file/">File Provider</a></summary><div class="superfences-tabs">
<input name="__tabs_10" type="radio" id="__tab_10_0" checked="checked" />
<label for="__tab_10_0">TOML</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.my-router]
    rule = "Path(`/foo`)"
    # declared elsewhere
    middlewares = ["authentication"]
    service = "service-foo"</code></pre></div>
<input name="__tabs_10" type="radio" id="__tab_10_1" />
<label for="__tab_10_1">YAML</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    my-router:
      rule: "Path(`/foo`)"
      # declared elsewhere
      middlewares:
      - authentication
      service: service-foo</code></pre></div>
</div>
</details>
<h3 id="service">Service<a class="headerlink" href="#service" title="Permanent link">&para;</a></h3>
<p>Each request must eventually be handled by a <a href="../services/">service</a>,
which is why each router definition should include a service target,
which is basically where the request will be passed along to.</p>
<p>In general, a service assigned to a router should have been defined,
but there are exceptions for label-based providers.
See the specific <a href="../providers/docker/#service-definition">docker</a>, <a href="../providers/rancher/#service-definition">rancher</a>,
or <a href="../providers/marathon/#service-definition">marathon</a> documentation.</p>
<div class="admonition warning">
<p class="admonition-title">The character <code>@</code> is not authorized in the middleware name.</p>
</div>
<div class="admonition important">
<p class="admonition-title">HTTP routers can only target HTTP services (not TCP services).</p>
</div>
<h3 id="tls">TLS<a class="headerlink" href="#tls" title="Permanent link">&para;</a></h3>
<h4 id="general">General<a class="headerlink" href="#general" title="Permanent link">&para;</a></h4>
<p>When a TLS section is specified, it instructs Traefik that the current router is dedicated to HTTPS requests only (and that the router should ignore HTTP (non TLS) requests).
Traefik will terminate the SSL connections (meaning that it will send decrypted data to the services).</p>
<details class="example"><summary>Configuring the router to accept HTTPS requests only</summary><div class="superfences-tabs">
<input name="__tabs_11" type="radio" id="__tab_11_0" checked="checked" />
<label for="__tab_11_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.Router-1]
    rule = "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
    service = "service-id"
    # will terminate the TLS request
    [http.routers.Router-1.tls]</code></pre></div>
<input name="__tabs_11" type="radio" id="__tab_11_1" />
<label for="__tab_11_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    Router-1:
      rule: "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
      service: service-id
      # will terminate the TLS request
      tls: {}</code></pre></div>
</div>
</details>
<div class="admonition important">
<p class="admonition-title">Routers for HTTP &amp; HTTPS</p>
<p>If you need to define the same route for both HTTP and HTTPS requests, you will need to define two different routers:
one with the tls section, one without.</p>
<details class="example"><summary>HTTP &amp; HTTPS routes</summary><div class="superfences-tabs">
<input name="__tabs_12" type="radio" id="__tab_12_0" checked="checked" />
<label for="__tab_12_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.my-https-router]
    rule = "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
    service = "service-id"
    # will terminate the TLS request
    [http.routers.my-https-router.tls]

  [http.routers.my-http-router]
    rule = "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
    service = "service-id"</code></pre></div>
<input name="__tabs_12" type="radio" id="__tab_12_1" />
<label for="__tab_12_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    my-https-router:
      rule: "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
      service: service-id
      # will terminate the TLS request
      tls: {}

    my-http-router:
      rule: "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
      service: service-id</code></pre></div>
</div>
</details>
</div>
<h4 id="options"><code>options</code><a class="headerlink" href="#options" title="Permanent link">&para;</a></h4>
<p>The <code>options</code> field enables fine-grained control of the TLS parameters.
It refers to a <a href="../../https/tls/#tls-options">TLS Options</a> and will be applied only if a <code>Host</code> rule is defined.</p>
<div class="admonition info">
<p class="admonition-title">Server Name Association</p>
<p>Even though one might get the impression that a TLS options reference is mapped to a router, or a router rule,
one should realize that it is actually mapped only to the host name found in the <code>Host</code> part of the rule.
Of course, there could also be several <code>Host</code> parts in a rule, in which case the TLS options reference would be mapped to as many host names.</p>
<p>Another thing to keep in mind is:
the TLS option is picked from the mapping mentioned above and based on the server name provided during the TLS handshake,
and it all happens before routing actually occurs.</p>
</div>
<details class="example"><summary>Configuring the TLS options</summary><div class="superfences-tabs">
<input name="__tabs_13" type="radio" id="__tab_13_0" checked="checked" />
<label for="__tab_13_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.Router-1]
    rule = "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
    service = "service-id"
    # will terminate the TLS request
    [http.routers.Router-1.tls]
      options = "foo"

[tls.options]
  [tls.options.foo]
    minVersion = "VersionTLS12"
    cipherSuites = [
      "TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384",
      "TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305",
      "TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305",
      "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256",
      "TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256",
    ]</code></pre></div>
<input name="__tabs_13" type="radio" id="__tab_13_1" />
<label for="__tab_13_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    Router-1:
      rule: "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
      service: service-id
      # will terminate the TLS request
      tls:
        options: foo

tls:
  options:
    foo:
      minVersion: VersionTLS12
      cipherSuites:
        - TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
        - TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305
        - TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305
        - TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
        - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code></pre></div>
</div>
</details>
<div class="admonition important">
<p class="admonition-title">Conflicting TLS Options</p>
<p>Since a TLS options reference is mapped to a host name,
if a configuration introduces a situation where the same host name (from a <code>Host</code> rule) gets matched with two TLS options references,
a conflict occurs, such as in the example below:</p>
<div class="superfences-tabs">
<input name="__tabs_14" type="radio" id="__tab_14_0" checked="checked" />
<label for="__tab_14_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.routerfoo]
    rule = "Host(`snitest.com`) &amp;&amp; Path(`/foo`)"
    [http.routers.routerfoo.tls]
      options = "foo"

[http.routers]
  [http.routers.routerbar]
    rule = "Host(`snitest.com`) &amp;&amp; Path(`/bar`)"
    [http.routers.routerbar.tls]
      options = "bar"</code></pre></div>
<input name="__tabs_14" type="radio" id="__tab_14_1" />
<label for="__tab_14_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    routerfoo:
      rule: "Host(`snitest.com`) &amp;&amp; Path(`/foo`)"
      tls:
        options: foo

    routerbar:
      rule: "Host(`snitest.com`) &amp;&amp; Path(`/bar`)"
      tls:
        options: bar</code></pre></div>
</div>
<p>If that happens, both mappings are discarded, and the host name (<code>snitest.com</code> in this case) for these routers gets associated with the default TLS options instead.</p>
</div>
<h4 id="certresolver"><code>certResolver</code><a class="headerlink" href="#certresolver" title="Permanent link">&para;</a></h4>
<p>If <code>certResolver</code> is defined, Traefik will try to generate certificates based on routers <code>Host</code> &amp; <code>HostSNI</code> rules.</p>
<div class="superfences-tabs">
<input name="__tabs_15" type="radio" id="__tab_15_0" checked="checked" />
<label for="__tab_15_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.routerfoo]
    rule = "Host(`snitest.com`) &amp;&amp; Path(`/foo`)"
    [http.routers.routerfoo.tls]
      certResolver = "foo"</code></pre></div>
<input name="__tabs_15" type="radio" id="__tab_15_1" />
<label for="__tab_15_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    routerfoo:
      rule: "Host(`snitest.com`) &amp;&amp; Path(`/foo`)"
      tls:
        certResolver: foo</code></pre></div>
</div>
<div class="admonition info">
<p class="admonition-title">Multiple Hosts in a Rule</p>
<p>The rule <code>Host(`test1.traefik.io`,`test2.traefik.io`)</code> will request a certificate with the main domain <code>test1.traefik.io</code> and SAN <code>test2.traefik.io</code>.</p>
</div>
<h4 id="domains"><code>domains</code><a class="headerlink" href="#domains" title="Permanent link">&para;</a></h4>
<p>You can set SANs (alternative domains) for each main domain.
Every domain must have A/AAAA records pointing to Traefik.
Each domain &amp; SAN will lead to a certificate request.</p>
<div class="superfences-tabs">
<input name="__tabs_16" type="radio" id="__tab_16_0" checked="checked" />
<label for="__tab_16_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[http.routers]
  [http.routers.routerbar]
    rule = "Host(`snitest.com`) &amp;&amp; Path(`/bar`)"
    [http.routers.routerbar.tls]
      certResolver = "bar"
      [[http.routers.routerbar.tls.domains]]
        main = "snitest.com"
        sans = ["*.snitest.com"]</code></pre></div>
<input name="__tabs_16" type="radio" id="__tab_16_1" />
<label for="__tab_16_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
http:
  routers:
    routerbar:
      rule: "Host(`snitest.com`) &amp;&amp; Path(`/bar`)"
      tls:
        certResolver: "bar"
        domains:
          - main: "snitest.com"
            sans:
              - "*.snitest.com"</code></pre></div>
</div>
<p><a href="https://community.letsencrypt.org/t/acme-v2-and-wildcard-certificate-support-is-live/55579">ACME v2</a> supports wildcard certificates.
As described in <a href="https://community.letsencrypt.org/t/staging-endpoint-for-acme-v2/49605">Let's Encrypt's post</a> wildcard certificates can only be generated through a <a href="../../https/acme/#dnschallenge"><code>DNS-01</code> challenge</a>.</p>
<p>Most likely the root domain should receive a certificate too, so it needs to be specified as SAN and 2 <code>DNS-01</code> challenges are executed.
In this case the generated DNS TXT record for both domains is the same.
Even though this behavior is <a href="https://community.letsencrypt.org/t/wildcard-issuance-two-txt-records-for-the-same-name/54528/2">DNS RFC</a> compliant,
it can lead to problems as all DNS providers keep DNS records cached for a given time (TTL) and this TTL can be greater than the challenge timeout making the <code>DNS-01</code> challenge fail.</p>
<p>The Traefik ACME client library <a href="https://github.com/go-acme/lego">lego</a> supports some but not all DNS providers to work around this issue.
The <a href="../../https/acme/#providers">supported <code>provider</code> table</a> indicates if they allow generating certificates for a wildcard domain and its root domain.</p>
<div class="admonition important">
<p class="admonition-title">Wildcard certificates can only be verified through a <a href="../../https/acme/#dnschallenge"><code>DNS-01</code> challenge</a>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Double Wildcard Certificates</p>
<p>It is not possible to request a double wildcard certificate for a domain (for example <code>*.*.local.com</code>).</p>
</div>
<h2 id="configuring-tcp-routers">Configuring TCP Routers<a class="headerlink" href="#configuring-tcp-routers" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">The character <code>@</code> is not authorized in the router name</p>
</div>
<h3 id="general_1">General<a class="headerlink" href="#general_1" title="Permanent link">&para;</a></h3>
<p>If both HTTP routers and TCP routers listen to the same entry points, the TCP routers will apply <em>before</em> the HTTP routers.
If no matching route is found for the TCP routers, then the HTTP routers will take over.</p>
<h3 id="entrypoints_1">EntryPoints<a class="headerlink" href="#entrypoints_1" title="Permanent link">&para;</a></h3>
<p>If not specified, TCP routers will accept requests from all defined entry points.
If you want to limit the router scope to a set of entry points, set the entry points option.</p>
<details class="example"><summary>Listens to Every Entry Point</summary><p><strong>Dynamic Configuration</strong></p>
<div class="superfences-tabs">
<input name="__tabs_17" type="radio" id="__tab_17_0" checked="checked" />
<label for="__tab_17_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration

[tcp.routers]
  [tcp.routers.Router-1]
    # By default, routers listen to every entrypoints
    rule = "HostSNI(`traefik.io`)"
    service = "service-1"
    # will route TLS requests (and ignore non tls requests)
    [tcp.routers.Router-1.tls]</code></pre></div>
<input name="__tabs_17" type="radio" id="__tab_17_1" />
<label for="__tab_17_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration

tcp:
  routers:
    Router-1:
      # By default, routers listen to every entrypoints
      rule: "HostSNI(`traefik.io`)"
      service: "service-1"
      # will route TLS requests (and ignore non tls requests)
      tls: {}</code></pre></div>
</div>
<p><strong>Static Configuration</strong></p>
<div class="superfences-tabs">
<input name="__tabs_18" type="radio" id="__tab_18_0" checked="checked" />
<label for="__tab_18_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Static configuration

[entryPoints]
  [entryPoints.web]
    address = ":80"
  [entryPoints.websecure]
    address = ":443"
  [entryPoints.other]
    address = ":9090"</code></pre></div>
<input name="__tabs_18" type="radio" id="__tab_18_1" />
<label for="__tab_18_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Static configuration

entryPoints:
  web:
    address: ":80"
  websecure:
    address: ":443"
  other:
    address: ":9090"</code></pre></div>
<input name="__tabs_18" type="radio" id="__tab_18_2" />
<label for="__tab_18_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash">## Static configuration
--entrypoints.web.address=:80
--entrypoints.websecure.address=:443
--entrypoints.other.address=:9090</code></pre></div>
</div>
</details>
<details class="example"><summary>Listens to Specific Entry Points</summary><p><strong>Dynamic Configuration</strong></p>
<div class="superfences-tabs">
<input name="__tabs_19" type="radio" id="__tab_19_0" checked="checked" />
<label for="__tab_19_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[tcp.routers]
  [tcp.routers.Router-1]
    # won't listen to entry point web
    entryPoints = ["websecure", "other"]
    rule = "HostSNI(`traefik.io`)"
    service = "service-1"
    # will route TLS requests (and ignore non tls requests)
    [tcp.routers.Router-1.tls]</code></pre></div>
<input name="__tabs_19" type="radio" id="__tab_19_1" />
<label for="__tab_19_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
tcp:
  routers:
    Router-1:
      # won't listen to entry point web
      entryPoints:
        - "websecure"
        - "other"
      rule: "HostSNI(`traefik.io`)"
      service: "service-1"
      # will route TLS requests (and ignore non tls requests)
      tls: {}</code></pre></div>
</div>
<p><strong>Static Configuration</strong></p>
<div class="superfences-tabs">
<input name="__tabs_20" type="radio" id="__tab_20_0" checked="checked" />
<label for="__tab_20_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Static configuration

[entryPoints]
  [entryPoints.web]
    address = ":80"
  [entryPoints.websecure]
    address = ":443"
  [entryPoints.other]
    address = ":9090"</code></pre></div>
<input name="__tabs_20" type="radio" id="__tab_20_1" />
<label for="__tab_20_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Static configuration

entryPoints:
  web:
    address: ":80"
  websecure:
    address: ":443"
  other:
    address: ":9090"</code></pre></div>
<input name="__tabs_20" type="radio" id="__tab_20_2" />
<label for="__tab_20_2">CLI</label>
<div class="superfences-content"><pre class="highlight"><code class="language-bash">## Static configuration
--entrypoints.web.address=:80
--entrypoints.websecure.address=:443
--entrypoints.other.address=:9090</code></pre></div>
</div>
</details>
<h3 id="rule_1">Rule<a class="headerlink" href="#rule_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Rule</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>HostSNI(`domain-1`, ...)</code></td>
<td>Check if the Server Name Indication corresponds to the given <code>domains</code>.</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="admonition-title">HostSNI &amp; TLS</p>
<p>It is important to note that the Server Name Indication is an extension of the TLS protocol.
Hence, only TLS routers will be able to specify a domain name with that rule.
However, non-TLS routers will have to explicitly use that rule with <code>*</code> (every domain) to state that every non-TLS request will be handled by the router.</p>
</div>
<h3 id="services">Services<a class="headerlink" href="#services" title="Permanent link">&para;</a></h3>
<p>You must attach a TCP <a href="../services/">service</a> per TCP router.
Services are the target for the router.</p>
<div class="admonition important">
<p class="admonition-title">TCP routers can only target TCP services (not HTTP services).</p>
</div>
<h3 id="tls_1">TLS<a class="headerlink" href="#tls_1" title="Permanent link">&para;</a></h3>
<h4 id="general_2">General<a class="headerlink" href="#general_2" title="Permanent link">&para;</a></h4>
<p>When a TLS section is specified, it instructs Traefik that the current router is dedicated to TLS requests only (and that the router should ignore non-TLS requests).</p>
<p>By default, Traefik will terminate the SSL connections (meaning that it will send decrypted data to the services), but Traefik can be configured in order to let the requests pass through (keeping the data encrypted), and be forwarded to the service "as is". </p>
<details class="example"><summary>Configuring TLS Termination</summary><div class="superfences-tabs">
<input name="__tabs_21" type="radio" id="__tab_21_0" checked="checked" />
<label for="__tab_21_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[tcp.routers]
  [tcp.routers.Router-1]
    rule = "HostSNI(`foo-domain`)"
    service = "service-id"
    # will terminate the TLS request by default
    [tcp.routers.Router-1.tls]</code></pre></div>
<input name="__tabs_21" type="radio" id="__tab_21_1" />
<label for="__tab_21_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
tcp:
  routers:
    Router-1:
      rule: "HostSNI(`foo-domain`)"
      service: service-id
      # will terminate the TLS request by default
      tls: {}</code></pre></div>
</div>
</details>
<details class="example"><summary>Configuring passthrough</summary><div class="superfences-tabs">
<input name="__tabs_22" type="radio" id="__tab_22_0" checked="checked" />
<label for="__tab_22_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[tcp.routers]
  [tcp.routers.Router-1]
    rule = "HostSNI(`foo-domain`)"
    service = "service-id"
    [tcp.routers.Router-1.tls]
      passthrough = true</code></pre></div>
<input name="__tabs_22" type="radio" id="__tab_22_1" />
<label for="__tab_22_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
tcp:
  routers:
    Router-1:
      rule: "HostSNI(`foo-domain`)"
      service: service-id
      tls:
        passthrough: true</code></pre></div>
</div>
</details>
<h4 id="options_1"><code>options</code><a class="headerlink" href="#options_1" title="Permanent link">&para;</a></h4>
<p>The <code>options</code> field enables fine-grained control of the TLS parameters.<br />
It refers to a <a href="../../https/tls/#tls-options">TLS Options</a> and will be applied only if a <code>HostSNI</code> rule is defined.</p>
<div class="admonition example">
<p class="admonition-title">Configuring the tls options</p>
<div class="superfences-tabs">
<input name="__tabs_23" type="radio" id="__tab_23_0" checked="checked" />
<label for="__tab_23_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[tcp.routers]
  [tcp.routers.Router-1]
    rule = "HostSNI(`foo-domain`)"
    service = "service-id"
    # will terminate the TLS request
    [tcp.routers.Router-1.tls]
      options = "foo"

[tls.options]
  [tls.options.foo]
    minVersion = "VersionTLS12"
    cipherSuites = [
      "TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384",
      "TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305",
      "TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305",
      "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256",
      "TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256",
    ]</code></pre></div>
<input name="__tabs_23" type="radio" id="__tab_23_1" />
<label for="__tab_23_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
tcp:
  routers:
    Router-1:
      rule: "HostSNI(`foo-domain`)"
      service: service-id
      # will terminate the TLS request
      tls:
        options: foo

tls:
  options:
    foo:
      minVersion: VersionTLS12
      cipherSuites:
        - TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
        - TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305
        - TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305
        - TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
        - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code></pre></div>
</div>
</div>
<h4 id="certresolver_1"><code>certResolver</code><a class="headerlink" href="#certresolver_1" title="Permanent link">&para;</a></h4>
<p>See <a href="./#certresolver"><code>certResolver</code> for HTTP router</a> for more information.</p>
<div class="superfences-tabs">
<input name="__tabs_24" type="radio" id="__tab_24_0" checked="checked" />
<label for="__tab_24_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[tcp.routers]
  [tcp.routers.routerfoo]
    rule = "HostSNI(`snitest.com`)"
    [tcp.routers.routerfoo.tls]
      certResolver = "foo"</code></pre></div>
<input name="__tabs_24" type="radio" id="__tab_24_1" />
<label for="__tab_24_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
tcp:
  routers:
    routerfoo:
      rule: "HostSNI(`snitest.com`)"
      tls:
        certResolver: foo</code></pre></div>
</div>
<h4 id="domains_1"><code>domains</code><a class="headerlink" href="#domains_1" title="Permanent link">&para;</a></h4>
<p>See <a href="./#domains"><code>domains</code> for HTTP router</a> for more information.</p>
<div class="superfences-tabs">
<input name="__tabs_25" type="radio" id="__tab_25_0" checked="checked" />
<label for="__tab_25_0">File (TOML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-toml">## Dynamic configuration
[tcp.routers]
  [tcp.routers.routerbar]
    rule = "HostSNI(`snitest.com`)"
    [tcp.routers.routerbar.tls]
      certResolver = "bar"
      [[tcp.routers.routerbar.tls.domains]]
        main = "snitest.com"
        sans = ["*.snitest.com"]</code></pre></div>
<input name="__tabs_25" type="radio" id="__tab_25_1" />
<label for="__tab_25_1">File (YAML)</label>
<div class="superfences-content"><pre class="highlight"><code class="language-yaml">## Dynamic configuration
tcp:
  routers:
    routerbar:
      rule: "HostSNI(`snitest.com`)"
      tls:
        certResolver: "bar"
        domains:
          - main: "snitest.com"
            sans: 
              - "*.snitest.com"</code></pre></div>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      



<!-- Application footer -->
<footer class="md-footer">

    <!-- Further information -->
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">

            <!-- Copyright and theme information -->
            <div class="md-footer-copyright">
                
                <div class="md-footer-copyright__highlight">
                    Copyright &copy; 2016-2019 Containous
                </div>
                
                powered by
                <a href="https://www.mkdocs.org" title="MkDocs">MkDocs</a>
                and
                <a href="https://squidfunk.github.io/mkdocs-material/"
                   title="Material for MkDocs">
                    Material for MkDocs</a>
            </div>

            <!-- Social links -->
            
            
            
        </div>
    </div>
</footer>


    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../assets/js/hljs/highlight.pack.js"></script>
      
        <script src="../../assets/js/extra.js"></script>
      
        <script src="../../theme/js/structor-menu.js"></script>
      
    
  </body>
</html>